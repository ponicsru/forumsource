---
title: "Универсальный контроллер на ARM-e"
sidebar: ponics_sidebar
---

**murdoch** 04-06-2017

Сделал простой контроллер для автоматизации теплицы/гидропоники/грибов/гроубокса, на 32-битном контроллере STM32.

Пока использую как климат-контроллер для выращивания грибов, недавно собрал тестовую гидропонику периодического затопления (из пластикового кабель-канала).

Реализовано: опциональное управление освещением (день/ночь), измерение/контроль температуры/влажности по 1..2 датчикам (пока поддерживаются I2C SHT21/SI7021/BME280), 3 универсальных аналоговых входа (температура/влажность субстрата, проводимость, Ph, СО2 и т.д.), 2 периодических таймера (циркуляция раствора, вентиляция). Для "дня" и "ночи" можно задать разные значения температуры/влажности и т.д.

Есть управление с ПК по протоколу Modbus, и серверный софт под Linux (работает на Raspberry/Orange PI), можно подключить видеонаблюдение через Web/IP камеры.

экран с температурой влажностью (первые 2 колонки), аналоговым входом (3я колонка), счетчиком часов "суток" (4я колонка):

![](http://i.piccy.info/i9/de79920928f6493b2a6e8239e877dc53/1496603037/4239/1053805/th02_240.jpg)![](http://i.piccy.info/a3/2017-06-04-19-03/i9-11254145/240x91-r/i.gif)

состояние таймеров/часов:

![](http://i.piccy.info/i9/b8f880539797ef0fbc2829ab11f6b175/1496603056/4743/1053805/tim01_240.jpg)![](http://i.piccy.info/a3/2017-06-04-19-04/i9-11254146/240x84-r/i.gif)


**siv237** 04-06-2017

чем аналоговые измерения делаете?


**murdoch** 05-06-2017

влажность почвы - [https://ru.aliexpress.com/item/10pcs-Soil-Humidity-Sensor-Module-Hygrometer-Detection-Module-for-Arduino-AVR/32576273359.html](https://ru.aliexpress.com/item/10pcs-Soil-Humidity-Sensor-Module-Hygrometer-Detection-Module-for-Arduino-AVR/32576273359.html){:target="_blank"}

температуру - [https://ru.aliexpress.com/item/FREE-SHIPPING-10PCS-TMP36-TMP36GT9-TMP36GT9Z-ADI-TO92/1954269055.html](https://ru.aliexpress.com/item/FREE-SHIPPING-10PCS-TMP36-TMP36GT9-TMP36GT9Z-ADI-TO92/1954269055.html){:target="_blank"}

CO2 - пробовал MQ135, скоро будет MH-Z19

[https://ru.aliexpress.com/item/5PCS-Professional-MQ135-MQ-135-Air-Quality-Sensor-Hazardous-Gas-Detection-Module-For-M2-Top-Sale/32723329995.html](https://ru.aliexpress.com/item/5PCS-Professional-MQ135-MQ-135-Air-Quality-Sensor-Hazardous-Gas-Detection-Module-For-M2-Top-Sale/32723329995.html){:target="_blank"}

[https://ru.aliexpress.com/item/Free-shipping-MH-Z19-CO2-Carbon-dioxide-gas-sensor-serial-output-5000ppm-non-dispersive-infrared/32651094869.html](https://ru.aliexpress.com/item/Free-shipping-MH-Z19-CO2-Carbon-dioxide-gas-sensor-serial-output-5000ppm-non-dispersive-infrared/32651094869.html){:target="_blank"}

Ph - [http://www.aliexpress.com/item/New-Arrival-PH-Electrode-Probe-BNC-Connector-for-Aquarium-PH-Controller-Meter-Sensor-gib-Best-Promotion/32782679303.html](http://www.aliexpress.com/item/New-Arrival-PH-Electrode-Probe-BNC-Connector-for-Aquarium-PH-Controller-Meter-Sensor-gib-Best-Promotion/32782679303.html){:target="_blank"}


**siv237** 05-06-2017

> влажность почвы - [https://ru.aliexpress.com/item/10pcs-Soil-Humidity-Sensor-Module-Hygrometer-Detection-Module-for-Arduino-AVR/32576273359.html](https://ru.aliexpress.com/item/10pcs-Soil-Humidity-Sensor-Module-Hygrometer-Detection-Module-for-Arduino-AVR/32576273359.html){:target="_blank"}
> 
> температуру - [https://ru.aliexpress.com/item/FREE-SHIPPING-10PCS-TMP36-TMP36GT9-TMP36GT9Z-ADI-TO92/1954269055.html](https://ru.aliexpress.com/item/FREE-SHIPPING-10PCS-TMP36-TMP36GT9-TMP36GT9Z-ADI-TO92/1954269055.html){:target="_blank"}
> 
> CO2 - пробовал MQ135, скоро будет MH-Z19
> 
> [https://ru.aliexpress.com/item/5PCS-Professional-MQ135-MQ-135-Air-Quality-Sensor-Hazardous-Gas-Detection-Module-For-M2-Top-Sale/32723329995.html](https://ru.aliexpress.com/item/5PCS-Professional-MQ135-MQ-135-Air-Quality-Sensor-Hazardous-Gas-Detection-Module-For-M2-Top-Sale/32723329995.html){:target="_blank"}
> 
> [https://ru.aliexpress.com/item/Free-shipping-MH-Z19-CO2-Carbon-dioxide-gas-sensor-serial-output-5000ppm-non-dispersive-infrared/32651094869.html](https://ru.aliexpress.com/item/Free-shipping-MH-Z19-CO2-Carbon-dioxide-gas-sensor-serial-output-5000ppm-non-dispersive-infrared/32651094869.html){:target="_blank"}
> 
> Ph - [http://www.aliexpress.com/item/New-Arrival-PH-Electrode-Probe-BNC-Connector-for-Aquarium-PH-Controller-Meter-Sensor-gib-Best-Promotion/32782679303.html](http://www.aliexpress.com/item/New-Arrival-PH-Electrode-Probe-BNC-Connector-for-Aquarium-PH-Controller-Meter-Sensor-gib-Best-Promotion/32782679303.html){:target="_blank"}

Короче вы походу вообще не шарите в теме :)


**siv237** 05-06-2017

Датчик почвы полный шлак, он измеряет постоянкой 5 вольтами. Через несколько часов контакты полностью черные. На вторые сутки в мокрой земле они покрыты зеленым медным налетом. Тот кто это чудо решение изобрел полный дятел.

Второе, малинка не имеет аналоговых входов и выходов. Вообще никаких, вы свои датчики просто не подключите без дополнительного АЦП. А что касается pH это просто электрод и без обвязки от него толку 0.

В общем довольно бестолковое начало.


**Vad** 05-06-2017

siv237, хватит пукать в лужу..

кроме малины ничего в глаза не видно було? )))

это не малина, это стм..

есть там все.. :D

хоть документы почитайте какие-нибудь..

ну хоть чуть-чуть


**siv237** 05-06-2017

> siv237, хватит пукать в лужу..
> 
> кроме малины ничего в глаза не видно було? )))
> 
> это не малина, это стм..
> 
> есть там все.. :D
> 
> хоть документы почитайте какие-нибудь..
> 
> ну хоть чуть-чуть

Не заметил, что малину он как сервер хочет использовать. Что само по себе странно.

Пукать в лужу это больше по твоей клоунской части. Заметил знакомые слова и оживился.

Когда докажешь, что ардуина не может измерять алюминиевым проводом электропроводность? Слился там, а теперь уж молчи и не высовывайся.


**murdoch** 05-06-2017

> Датчик почвы полный шлак, он измеряет постоянкой 5 вольтами

зависит от тока. пока работает, потом переделаю под импульсный режим

> малину он как сервер хочет использовать. Что само по себе странно

на отдельном контроллере надежнее и дешевле. А к Orange PI можно подключить несколько контроллеров, Modbus это позволяет


**Vad** 05-06-2017

> Не заметил, что малину он как сервер хочет использовать.

надо быть внимательнее :D

еще внимательнее...

> Когда докажешь, что ардуина не может измерять алюминиевым проводом электропроводность? Слился там, а теперь уж молчи и не высовывайся.

Барану доказывать, что он уперся в дерево и буксует? ;D

увольте от беседы с идиотом ;D

кстати, там все форумчане слились..

просто засношались тебе, барану, что-то доказывать ;D

murdoch, составьте сперва "план действий".. 

для лампочек, температуры и влажности почвы.. дюже жирно стм прикручивать.


**murdoch** 05-06-2017

> для лампочек, температуры и влажности почвы.. дюже жирно стм прикручивать

по "жирности" - та же Ардуина:

https://ru.aliexpress.com/item/Free-shipping-10pcs-STM32F030F4P6-Value-line-ARM-based-32-bit-MCU-STM32F030F4P6/32739883618.html

https://ru.aliexpress.com/item/STM32F030F4P6-Mini-System-Development-Board-ARM-CORTEX-M0-Core-SWD-ISP-MicroUSB/32779283268.html

https://ru.aliexpress.com/item/1pcs-STM32F103C8T6-ARM-STM32-Minimum-System-Development-Board-Module-For-arduino/32583160323.html


**Vad** 05-06-2017

я про мегу ничего не говорил...

мега жирна для термометра..

какие задачи оно решает? *???*


**murdoch** 05-06-2017

> какие задачи оно решает? *???*

уже писал выше - на данный момент реализован климат-контроль для грибов, в порядке эксперимента собираю гидропонику периодического затопления.

хочется реализовать максимальную автономность - удаленное управление/наблюдение, чтобы наведываться к растениям максимум 1 раз в неделю.

хочу попробовать зимнюю/весеннюю выгонку зелени

понятно что примитивные функции типа вкл/выкл света, проветривание, автополив можно реализовать и на простейших механических таймерах, но удаленное управление к ним никак не прикрутить...


**murdoch** 05-06-2017

датчик проводимости с переключением полярности и диапазона можно реализовать на 2х мультиплексорах (4051+4052) + ОУ, управление на какой-нибудь Attiny13


**gena1** 05-06-2017

> датчик проводимости с переключением полярности и диапазона можно реализовать на 2х мультиплексорах (4051+4052) + ОУ, управление на какой-нибудь Attiny13

Или просто одним ОУ или 2-мя по вкусу ))


**siv237** 05-06-2017

> Барану доказывать, что он уперся в дерево и буксует? ;D

Баран тут ты, так как не хватает в голове ума не спорить в ситуации и отрицать существующую реальность.

В своих фантазиях ты закрылся.

Я тебе еще раз говорю, система существует и работает. Уже почти месяц без расхождений.


**Vad** 05-06-2017

> понятно что примитивные функции типа вкл/выкл света, проветривание, автополив можно реализовать и на простейших механических таймерах, но удаленное управление к ним никак не прикрутить...

а оно надо?

все это настраивается 1 раз в неделю... и не трогается в течение пары месяцев *???*


**Vad** 05-06-2017

> датчик проводимости....................... можно реализовать на ,,,,,,,,,,,,, ОУ

выделил правильные слова..

безо всяких мультиплексоров и атиний..


**Vad** 05-06-2017

> Баран тут ты, так как не хватает в голове ума не спорить в ситуации и отрицать существующую реальность.
> 
> В своих фантазиях ты закрылся.
> 
> Я тебе еще раз говорю, система существует и работает. Уже почти месяц без расхождений.

г-н "Мунхаузен" :D У тебя опять мысли путаются? :D

Хватит выдавать желаемое за действительное.. это опасно.

Ну и.. символическое направление движения я тебе уже указал.. :D

Следуй..


**murdoch** 05-06-2017

siv237 с какой частотой вы меряли EC ? Может реже подавать напряжение, напр. раз в минуту или в 10 минут, и инвертировать полярность ?

> безо всяких мультиплексоров и атиний..

при постоянной запитке и без смены полярности от электролиза будут выедаться электроды и уплывать показания...


**Vad** 05-06-2017

почитайте что-то по кондуктометрии..

а то планы наполеоновские..

а базы нет..

при таком подходе.. обречены на провал


**Пресвятой_ДжимБим** 05-06-2017

> > Барану доказывать, что он уперся в дерево и буксует? ;D
> 
> 
> 
> Баран тут ты, так как не хватает в голове ума не спорить в ситуации и отрицать существующую реальность.
> 
> В своих фантазиях ты закрылся.
> 
> Я тебе еще раз говорю, система существует и работает. Уже почти месяц без расхождений.

;D :D


**Пресвятой_ДжимБим** 05-06-2017

murdoch, делайте как считаете нужным.

Если увидите собственными глазами, что работает неправильно, то сделайте по другому.

Все у вас получится.


**siv237** 05-06-2017

> siv237 с какой частотой вы меряли EC ? Может реже подавать напряжение, напр. раз в минуту или в 10 минут, и инвертировать полярность ?
> 
> 
> > безо всяких мультиплексоров и атиний..
> 
> при постоянной запитке и без смены полярности от электролиза будут выедаться электроды и уплывать показания...

Вот все, что нужно, что-бы собрать измеритель ЕС раствора. Не важна платформа, главное 2 аналоговых входа и два цифровых выхода. [http://forum.ponics.ru/go.php?url=aHR0cDovL3J1LmdpZHJvcG9uaWthLndpa2lhLmNvbS93aWtpL8jn7OXw6PLl6/xfRUNf7eBf7vHt7uLlX0FyZHVpbm8=](http://forum.ponics.ru/go.php?url=aHR0cDovL3J1LmdpZHJvcG9uaWthLndpa2lhLmNvbS93aWtpL8jn7OXw6PLl6/xfRUNf7eBf7vHt7uLlX0FyZHVpbm8=){:target="_blank"}

Это 100% рабочее решение.


**murdoch** 05-06-2017

между измерениями можно переключать вывод контроллера на выход, и выводить ноль - эффект электролиза сильно ослабнет, т.к. на электродах все время будет практически нулевой потенциал. А измерять можно например раз в 15 минут, или даже в час... наверно чаще и не нужно...

типа такого:

![](http://i.piccy.info/i9/8cdf5989024a9359adb38d7c9aa3e5a4/1496672559/4038/1053805/Screenshot_06052017_05_17_01_PM_240.jpg)![](http://i.piccy.info/a3/2017-06-05-14-22/i9-11256292/240x188-r/i.gif)


**Пресвятой_ДжимБим** 05-06-2017

> между измерениями можно переключать вывод контроллера на выход, и выводить ноль - эффект электролиза сильно ослабнет, т.к. на электродах все время будет практически нулевой потенциал. А измерять можно например раз в 15 минут, или даже в час... наверно чаще и не нужно...
> 
> типа такого:
> 
> ![](http://i.piccy.info/i9/8cdf5989024a9359adb38d7c9aa3e5a4/1496672559/4038/1053805/Screenshot_06052017_05_17_01_PM_240.jpg)![](http://i.piccy.info/a3/2017-06-05-14-22/i9-11256292/240x188-r/i.gif)

Плюсую.


**murdoch** 05-06-2017

при пропускании постоянного тока электролизная коррозия доминирует над электрохимической - если мерять 1сек раз в час, скорость электролиза уменьшится в 3600раз...

а для минимизации электрохимической коррозии электроды можно сделать из никеля, титана, или другого стойкого в солях металла/сплава...


**Vad** 05-06-2017

такие вещи измеряют на переменном токе.. не сильно высокой частоты. (килогерцы)

иначе вы измерите температуру поверхности Марса.

Еще раз повторяю, почитайте по кондуктометрии.. это интересное чтиво.


**siv237** 05-06-2017

> при пропускании постоянного тока электролизная коррозия доминирует над электрохимической - если мерять 1сек раз в час, скорость электролиза уменьшится в 3600раз...
> 
> а для минимизации электрохимической коррозии электроды можно сделать из никеля, титана, или другого стойкого в солях металла/сплава...

А если измерять постоянно киллогерцовыми значениями переменного тока, остановите все виды коррозии, так как нарушите условия его протекания.

Посмотрите мою схему и описание, вам вообще никаких резисторов не нужно. Прямое включение, управление процессом полностью программно. Спустя месяц непрерывных измерений на 3,5 кГц, что алюминиевые, что электроды из нержавейки вообще не имеют признаков окисления и изменения собственного сопротивления.

А вот прерывать измерения как раз не стоит.


**murdoch** 06-06-2017

> Посмотрите мою схему и описание

посмотрел - непонятно как оно работает? Напряжение с порта просто подается на электроды ? на входе АЦП всегда будет +5В, т.к. выход контроллера работает как источник напряжения без ограничения тока...

на моей схемке сопротивление Rpull и раствор образуют делитель, напряжение с которого подается на АЦП:

![](http://i.piccy.info/i9/ad4ce719194022a932f11cacc6fc33b4/1496739017/4030/1053805/Screenshot_06062017_11_49_08_AM_240.jpg)![](http://i.piccy.info/a3/2017-06-06-08-50/i9-11258549/240x184-r/i.gif)


**murdoch** 06-06-2017

можно сделать вот так - тогда полярность на контактах можно инвертировать, хватает 2 вывода:

![](http://i.piccy.info/i9/238528f01f60654fcbb153b926525e27/1496739602/6710/1053805/Screenshot_06062017_11_59_03_AM_240.jpg)![](http://i.piccy.info/a3/2017-06-06-09-00/i9-11258599/240x229-r/i.gif)

алгоритм:

- ADC0 в аналоговый режим, ADC1 - в цифровой с 0м на выходе, меряем напряжение на ADC0;

- ADC1 в аналоговый режим, ADC0 - в цифровой, меряем на ADC1;


**siv237** 06-06-2017

> > Посмотрите мою схему и описание
> 
> посмотрел - непонятно как оно работает? Напряжение с порта просто подается на электроды ? то есть на входе АЦП постоянно будет +5В...
> 
> на моей схемке сопротивление Rpull и раствор образуют делитель, напряжение с которого подается на АЦП:
> 
> ![](http://i.piccy.info/i9/ad4ce719194022a932f11cacc6fc33b4/1496739017/4030/1053805/Screenshot_06062017_11_49_08_AM_240.jpg)![](http://i.piccy.info/a3/2017-06-06-08-50/i9-11258549/240x184-r/i.gif)

Вы не один не понимаете :) Я же подробно описал принцип и даже эквивалентную схему привел. Делительные резисторы там есть, без них ток не потечет. Они просто уже имеются в самой схеме АЦП около 20 кОм.

Все просто сперва подаем напряжение +5 (логическая единица на первый цифровой выход) и ток начинает течь на с него на второй цифровой выход установленный в 0. Аналоговый первый измеряет.

Затем просто переключаем 1 в 0 а 0 в 1 и ток потечет в другом направлении, а измеряем на втором аналоговом. Ток на них течет по правилу деления, так как внутренне они уже развязаны на землю через внутреннее сопротивление.

Простота схемы достигается за счет особенностей схемотехнического решения самой АЦП, но можно добавить по резистору на каждую цепь и посадить на землю.

Местные лучшие электронщики среди гидропонщиков и лучшие гидропонщики среди электронщиков не могут в логику :)


**Vad** 06-06-2017

> Простота схемы достигается за счет особенностей схемотехнического решения самой АЦП, но можно добавить по резистору на каждую цепь и посадить на землю.

[! No longer available](http://www.youtube.com/watch?v=1OVlhKs-c88#){:target="_blank"}

;D :D


**siv237** 06-06-2017

> 

Стремно наверно ощущать себя балбесом не способным в двух проводках разобраться? ;D ;D ;D


**murdoch** 06-06-2017

> Они просто уже имеются в самой схеме АЦП около 20 кОм

все равно не понимаю...

если настроить выход в режиме open-drain c встроенным pullup-ом - тогда должно работать, но сопротивление pullup-ов неточное и плавает с температурой... лучше применить внешние резисторы...


**Vad** 06-06-2017

> > 
> 
> 
> 
> Стремно наверно ощущать себя балбесом не способным в двух проводках разобраться? ;D ;D ;D

Наверное стремно, я не знаю.. опишите свои ощущения, поделитесь с форумом :D


**Vad** 06-06-2017

> > Они просто уже имеются в самой схеме АЦП около 20 кОм
> 
> все равно не понимаю...
> 
> если настроить выход в режиме open-drain c встроенным pullup-ом - тогда должно работать, но сопротивление pullup-ов неточное и плавает с температурой... лучше применить внешние резисторы...

ему это 8 страниц объясняли - объяснить не смогли.

ни в коем случае не советуйте ему ничего - врагомстанете :D

просто согласитесь с ним и все :D


**siv237** 06-06-2017

> > Они просто уже имеются в самой схеме АЦП около 20 кОм
> 
> все равно не понимаю...
> 
> если настроить выход в режиме open-drain c встроенным pullup-ом - тогда должно работать, но сопротивление pullup-ов неточное и плавает с температурой... лучше применить внешние резисторы...

Первую схему я так и сделал, поставил на 25 кОм и провел сутки измерений. Затем снял и разницы особой не получил. Изменение температуры раствора влияет сильнее.

Благодаря усреднению по нескольким тысячам измерений получилось добиться отличной точности для такого примитивного решения, разбег между измерениями не более 0.1 мСи/см и даже меньше.


**murdoch** 06-06-2017

> Делительные резисторы там есть, без них ток не потечет

потечет откуда и куда ?

по Вашей схеме на цифровые выходы просто выводится 0 и +5В, и это напряжение прикладывается к электродам в растворе...

сопротивление раствора десятки..сотни КОм, сопротивление транзисторов на портах контроллера - десятки Ом, т.е. на входе АЦП получаем почти +5В...


**siv237** 06-06-2017

> > > Они просто уже имеются в самой схеме АЦП около 20 кОм
> > 
> > все равно не понимаю...
> > 
> > если настроить выход в режиме open-drain c встроенным pullup-ом - тогда должно работать, но сопротивление pullup-ов неточное и плавает с температурой... лучше применить внешние резисторы...
> 
> 
> 
> ему это 8 страниц объясняли - объяснить не смогли.
> 
> ни в коем случае не советуйте ему ничего - врагомстанете :D
> 
> просто согласитесь с ним и все :D

Фото, видео фома не принимает. Я не о твоей теории рассуждаю, у меня два измерителья работает, графики показывал. видео измерений снял. Надо быть полнейшим идиотом, и безумным томатом, что-бы отрицать существующее работающее решение.

Просто стыд и зависть. 

Оставь еще один мат в комментариях к схеме. Может полегчает? Недоучка.


**siv237** 06-06-2017

> > Делительные резисторы там есть, без них ток не потечет
> 
> потечет откуда и куда ?
> 
> по Вашей схеме на цифровые выходы просто выводится 0 и +5В, и это напряжение прикладывается к электродам в растворе...
> 
> сопротивление раствора десятки..сотни КОм, сопротивление транзисторов на портах контроллера - десятки Ом, т.е. на входе АЦП получаем почти +5В...

Сопротивление кондуктометра напрямую зависит от площади контактов электродов и расстояния между ними (это если не учитывать плотность электролита и температуру).

Достаточно подобрать площадь сечения и расстояние и обеспечить их стабильность внутри емкости.

Из 1024 10 битного АЦП при такой схеме в зоне измерения примерно от 0-100 единиц. И это на первый взгляд очень грубо, но мы во первых умножаем точность за счет двух АЦП, а во вторых делаем усреднение значения с плавающей запятой за 10 тысяч измерений. Точность значительно возрастает.

У меня даже получилось на АЦП с более низкой битностью 8 бит, получить высокую точность, правда из за низкой скорости АЦП pcf8591 в связке с малиной выжал всего 600 герц и показания уплывают, сопротивление медленно но падает. Разрушается оксидная пленка алюминия. За 2 недели на 20%. потому пока не придут 16 битные АЦП на малину схему измерения выкладывать не буду.

[![](/imagehost2/thumbs/ecptp.png)](https://t.me/ponics_ru_files/18561){:target="_blank"}

Верхний температура воздуха и раствора. Средний - ЕС в питательном баке клубники (измерение тонкими контактами фабричного электрода из нержавейки), нижний питательный бак томатов (измерение алюминиевыми контактами из АВВГ прволоки, получается точнее из за большей площади контакта). Все всплески - разбавления водой.

Самый главный тут вопрос в скорости измерений.


**Vad** 06-06-2017

> Из 1024 10 битного АЦП при такой схеме в зоне измерения примерно от 0-100 единиц.

жесть, правда?

использовать 1/10 разрешения ацп из за своего упрямства :D


**siv237** 06-06-2017

> > Из 1024 10 битного АЦП при такой схеме в зоне измерения примерно от 0-100 единиц.
> 
> 
> 
> жесть, правда?
> 
> использовать 1/10 разрешения ацп из за своего упрямства :D

Упрямства, о чем ты? Об этом с самого начала писал и даже сомневался, что не хватит. Но оказалось, что этого хватает с ушами для наших задачь а дичайшая простота решения перечеркивает все его минусы.

Его может повторить школьник за 15 минут не умея паяльник держать в руках.

Предложи решение из двух проводков которое работает!

Ну и 1/10 при измерениях от 0-4 мСи/см. Но шкала не заканчивается и измеряет и 10 ЕС и 50, хоть и с более низкой точностью. И тут битность по максимуму. Ведь кз электрода практически 1023 ед.


**Cyclamech** 06-06-2017

Всё-таки повезло программам, что вы не программисты… *crazy*


**Vad** 06-06-2017

А, это не упрямство?

а что тогда? Тупость? :D

хорошо, перефразирую, "использовать 1/10 разрешения ацп из за своей тупости" *???*

так пойдет? :D 


**siv237** 06-06-2017

> Всё-таки повезло программам, что вы не программисты… *crazy*

Почему?


**Vad** 06-06-2017

 ;D :D


**siv237** 06-06-2017

> А, это не упрямство?
> 
> а что тогда? Тупость? :D
> 
> хорошо, перефразирую, "использовать 1/10 разрешения ацп из за своей тупости" *???*
> 
> так пойдет? :D

Тупой Вад тут ты. Месяц распинаешься, о том что оно не работает. Теперь распинаешься, что оно не надо потому, что не соответствует внутренне твоей тонкой организации души электронщика.

Сам то подумай, что ты несешь а? *Wall* *Wall* *Wall*

Оно работает и работает точнее и надежнее, чем нужно. А собирается на коленке за 5 минут.

Нужно точнее и круче, всегда можно улучшить.

Просто так оно бывает Вад, что если хорошо понимать, именно понимать а не знать теорию, то на практике из говна и палок можно построить космолет. А твой удел идти матан учить. Так как понять ты его все равно не сможешь.


**orgail** 06-06-2017

вы такие милые!!! :D :D :D 

а терминатор убьет годзиллу? :D :D :D


**siv237** 06-06-2017

> вы такие милые!!! :D :D :D 
> 
> а терминатор убьет годзиллу? :D :D :D

Конечно убьёт, что за вопрос? :o Если ему супермен не помешает. Тут уже шансы поменьше.

;D ;D :D :D ;D


**murdoch** 06-06-2017

> Оно работает и работает точнее и надежнее, чем нужно

оно будет как-то работать если не выводить "0" на один порт, только "1"-цу, за счет медленного заряда входной емкости выборки-хранения АЦП через сопротивление раствора... но будет сильная зависимость от частоты опроса и времени выборки АЦП...

![](http://i.piccy.info/i9/8dd1dc16e50dbcaaaaefd9477ebcebfe/1496746359/4746/1053805/Screenshot_06062017_01_51_54_PM_240.jpg)![](http://i.piccy.info/a3/2017-06-06-10-52/i9-11259096/184x240-r/i.gif)


**Пресвятой_ДжимБим** 06-06-2017

Поржал. Спасибо =)))


**Пресвятой_ДжимБим** 06-06-2017

О чем можно спорить с человеком, который только от меня узнал, что в ардуине не только два проводка, а ещё и eeprom есть :D


**siv237** 06-06-2017

> О чем можно спорить с человеком, который только от меня узнал, что в ардуине не только два проводка, а ещё и eeprom есть :D

Ну да, о чем спорить с человеком, который взял в руки в первый раз ардуину и через два дня переплюнул в практических результатах горе электронщиков :) Просто я знал, что делаю и что должно получиться.

Продолжай выставлять себя дураком и вокруг тебя обязательно образуется ком таких-же как ты. Ведь дурость она слипается в комок. Вы вот с помидорчиком нашли друг друга :)

Собрать такую дурную схему с подливанием раствора да еще и с контролем переливов средствами той, же системы. которая наливает. Я читал и офигивал, насколько вы криворукие с вадом.


**Пресвятой_ДжимБим** 06-06-2017

Истеричка *crazy*


**Vad** 06-06-2017

ну да, конечно... о чем разговор, наш непризнанный гений :D

нужно было наставить 20-30 ардуин.. с запараллеленными портами... :D ;D

господи, отними у него интернет ;D

это вредит ему.. это вводит его в искушение *Dance*


**gena1** 06-06-2017

У Вас опять день сурка ?

Я один что ли работаю в этой жизни не в интернете ? )))


**siv237** 06-06-2017

> ну да, конечно... о чем разговор, наш непризнанный гений :D
> 
> нужно было наставить 20-30 ардуин.. с запараллеленными портами... :D ;D
> 
> господи, отними у него интернет ;D
> 
> это вредит ему.. это вводит его в искушение *Dance*

Ты посмотри, ты даже рассуждаешь ущербно. Ардуины какикие-то. Наверно так рассуждали кучеры, которые обсуждали картинки автомобилей. У такая штука неудобная, запрячь некуда, и смеялись, да как же её тройка тащить будет и прочие нелепости.

Пойми, никакая электронника, особенно в руках таких горе мастеров, не будет работать надежно. Нужно строить решения таким образом, что-бы любая точка отказа не приводила к фатальным ситуациям. 

У тебя сама система в принципе абсурдна. На кой хрен ставить отдельную емкость и тягать из неё раствор насосами, когда можно сразу эту емкость использовать как рабочую? Если уплывают параметры, так ты не автоматику прикручивай, а постарайся понять почему они убегают и исключи такую ситуацию в принципе правильным расчетом раствора.

Но ты же не можешь в теорию, математику и в расчеты, а удобрения закупаешь у циган походу?

Ваши игры в корректоры и смесители просто смешны. Так дети наверно на мир смотрят в силу ограниченности кругозора. Только получили некий интересный опыт, так и пытаются его приткнуть в жизни методом проб и ошибок.

По сути вы сделали решение, смысл существования которого лишь в том, что-бы прицепить контроллеры и насосики, при этом совершенно без практической обоснованности.


**Vad** 06-06-2017

> Пойми, никакая электронника, особенно в руках таких горе мастеров, не будет работать надежно. Нужно строить решения таким образом, что-бы любая точка отказа не приводила к фатальным ситуациям. 

в момент твоего зачатия.. что-то сломалось... однозначно :D

иначе откуда в тебе столько дури?

не уж-то ты прав и она слипается..)) и в тебе слиплась дурь всего рода? :D

в кураже ты не замечаешь на сколько ты смешон, а все это видят.. :D


**siv237** 06-06-2017

> > Пойми, никакая электронника, особенно в руках таких горе мастеров, не будет работать надежно. Нужно строить решения таким образом, что-бы любая точка отказа не приводила к фатальным ситуациям. 
> 
> 
> 
> в момент твоего зачатия.. что-то сломалось... однозначно :D
> 
> иначе откуда в тебе столько дури?
> 
> не уж-то ты прав и она слипается..)) и в тебе слиплась дурь всего рода? :D
> 
> в кураже ты не замечаешь на сколько ты смешон, а все это видят.. :D

Ну я надеюсь, что модераторы потрут в очередной раз весь этот бред и никто больше не увидит :)


**Vad** 06-06-2017

как ты привык, что модераторы за тобой все время трут..

здесь тебе не там.. тут не трут как видишь))


**Cyclamech** 06-06-2017

> здесь тебе не там.. тут не трут как видишь))

И это хороший намёк, что стоит привести себя (свой текст) в порядок без посторонней помощи, не?

Типа модераторы надеются, что здесь взрослые люди и их на пальцах руки. Да и делить, в общем-то, пока нечего.


**Vad** 06-06-2017

Ту так уймите идиота.. тексты сами в порядок придут))


**Cyclamech** 06-06-2017

> Ту так уймите идиота.. тексты сами в порядок придут))

Вы меня немного не поняли: стоит унимать себя, а не кого-то другого… Так эффективнее. :-[


**Пресвятой_ДжимБим** 06-06-2017

Мы то сирые и убогие. Изучаем скрупулёзно даташиты. Ан вон оно как. Можно наплевать и переплюнуть! И бац - ты сразу гений))

Гггг))


**** 06-06-2017

Я когда-то в прошлом веке, листая подшивку журналов "Радио"(у меня были начиная с 1973, если не ошибаюсь), начал собирать свой первый радиоприемник.. 1989г.

Сив тогда мутной каплей был.

И тогда все это воспринималось как маленькое чудо. Колдунство!)) И было дюже захватывающе!

Я и сейчас так воспринимаю многую радиотехнику.

А поколение Сивов - это потребители. Раз, и всю ардуину пустит под два провода(наплевав на огромный потенциал железяки). Также им проще купить какую-нибудь малину(Ведь все ARM - это только малина))), доработать двумя проводками, и объявить себя разработчиком этой малины..

Тоскливо от этого. 

Нет в Сивах ощущения чуда от своими руками сделаной электроники..

Они гении))))


**Cyclamech** 06-06-2017

> И тогда все это воспринималось как маленькое чудо. Колдунство!)) И было дюже захватывающе!
> 
> Я и сейчас так воспринимаю многую радиотехнику.
> 
> А поколение Сивов - это потребители.

Ммм… Слишком "грубый", "земной" материал эта радиотехника. Материально это всё. Впрочем, я мечтаю горшки научиться лепить… *crazy* Ну так, "чисто для себя".

К чему это я?

А представьте себе абсолютно бесплатный и "бесконечный" материал для творчества, а? И он существует: это буквы.

Можно даже про "радиотехнику" так щемяще, как Вам далеко в Ваших постах: "История одного байта" ([в звуке](http://www.vitmar.h10.ru/onebyte.htm]в тексте[/url], [url=https://www.youtube.com/watch?v=gR5htIlVKSk){:target="_blank"}). :-*

Программный код, по сути, те же буквы того же языка: и мы, программеры, упираемся не в языковые возможности (податливость материала), а в банальное отсутствие идей… :(

…

И в догонку "на добить" забавная старая статья из Копьютерры: [Путеводитель автостопщика по потаенным знаниям](http://rsdn.org/article/philosophy/languages.xml){:target="_blank"}.


**Пресвятой_ДжимБим** 06-06-2017

> > И тогда все это воспринималось как маленькое чудо. Колдунство!)) И было дюже захватывающе!
> > 
> > Я и сейчас так воспринимаю многую радиотехнику.
> > 
> > А поколение Сивов - это потребители.
> 
> 
> 
> Ммм… Слишком "грубый", "земной" материал эта радиотехника. Материально это всё. Впрочем, я мечтаю горшки научиться лепить… *crazy* Ну так, "чисто для себя".
> 
> К чему это я?
> 
> А представьте себе абсолютно бесплатный и "бесконечный" материал для творчества, а? И он существует: это буквы.
> 
> Можно даже про "радиотехнику" так щемяще, как Вам далеко в Ваших постах: "История одного байта" ([в звуке](http://www.vitmar.h10.ru/onebyte.htm]в тексте[/url], [url=https://www.youtube.com/watch?v=gR5htIlVKSk){:target="_blank"}). :-*
> 
> Программный код, по сути, те же буквы того же языка: и мы, программеры, упираемся не в языковые возможности (податливость материала), а в банальное отсутствие идей… :(
> 
> …
> 
> И в догонку "на добить" забавная старая статья из Копьютерры: [Путеводитель автостопщика по потаенным знаниям](http://rsdn.org/article/philosophy/languages.xml){:target="_blank"}.

Так кто тебе мешает лепить горшки? Лепи, епт.

Мы на разных уровнях общения.

Я могу себе позволить изредка "повспоминать". Но в основном "здесь-и-сейчас".

Если я хочу лепить горшки - я иду и леплю. И это чудо.

Если я хочу заниматься макраме - я иду, и занимаюсь макраме. И это тоже чудо!

Все, что созидаемо - чудо. Но нинада утверждать, что ты единственный изобретатель велосипеда, макраме и горшкофф..


**Cyclamech** 06-06-2017

> Все, что созидаемо - чудо. Но нинада утверждать, что ты единственный изобретатель велосипеда, макраме и горшкофф..

:-\

Если просто так лепить буквы друг к другу, то херня выходит: все пробовали ведь. Нужно по правилам, хотя бы логики (всё-таки это текст как общение) - типа смысл донести… Ну или хотя бы в рифму или слогом каким, если логические построения неинтересны… *???*


**Cyclamech** 06-06-2017

> Если я хочу лепить горшки - я иду и леплю. И это чудо.

Извините: я выпил и не могу удержаться! :D Но, надеюсь, будет наглядно и, возможно, сразу понятно:

> Когда я хочу поиметь всех женщин мира, я иду и имею свою жену. И это чудо! *crazy*



**Пресвятой_ДжимБим** 06-06-2017

> > Если я хочу лепить горшки - я иду и леплю. И это чудо.
> 
> 
> 
> Извините: я выпил и не могу удержаться! :D Но, надеюсь, будет наглядно и, возможно, сразу понятно:
> 
> 
> > Когда я хочу поиметь всех женщин мира, я иду и имею свою жену. И это чудо! *crazy*

Ну дык понятно. Пить вредно. Для душевного равновесия вредно =)

Выращивайте лучше цветочки.


**Cyclamech** 06-06-2017

> Выращивайте лучше цветочки.

> 10. Все, что может рука твоя делать, по силам делай; потому что в могиле, куда ты пойдешь, нет ни работы, ни размышления, ни знания, ни мудрости.
> 
> 11. И обратился я, и видел под солнцем, что не проворным достается успешный бег, не храбрым — победа, не мудрым — хлеб, и не у разумных — богатство, и не искусным — благорасположение, но время и случай для всех их.
> 
> (Екклесиаст 9:10-11)

*crazy*

Впрочем, явырвализконтекста! ;D


**Borodach1** 06-06-2017

Для того , кто хочет поиметь всех женщин мира, этот процесс и есть хобби. И он именно этим методично занимается. И жена тут как бы совсем не причём. ))) 


**Cyclamech** 06-06-2017

> Для того , кто хочет поиметь всех женщин мира, этот процесс и есть хобби. И он именно этим методично занимается.

И что он за мужик после этого? Небось даже паяльник или топор не умеет в руках держать - тупо времени не хватило освоить… ;D


**Borodach1** 06-06-2017

Тов. Екклесиаст похоже просто стебается. Читайте между строк:

" Тупица! Как бы ты ни работал, все богатства мира достанутся не тебе! Как бы ты не работал, безмозглая скотина, всё равно окажешься в могиле!"

)))


**Cyclamech** 06-06-2017

> Тов. Екклесиаст похоже просто стебается. Читайте между строк:
> 
> " Тупица! Как бы ты ни работал, все богатства мира достанутся не тебе! Как бы ты не работал, безмозглая скотина, всё равно окажешься в могиле!"
> 
> )))

А что тут такого между строк? Можно читать тексты сразу "во всех смыслах", "во всех оттенках", "во всех измерениях"… - читайте… и стебайтесь сами! *crazy*


**siv237** 06-06-2017

> Я когда-то в прошлом веке, листая подшивку журналов "Радио"(у меня были начиная с 1973, если не ошибаюсь), начал собирать свой первый радиоприемник.. 1989г.
> 
> Сив тогда мутной каплей был.

Я в это время уже занимался радиоэлектронникой и собрал к тому времени пачку приемников от детекторного до трехтранзисторного и это в 9 лет. Просто дальше я занялся сборкой и развитием компьютерной техники и кружок бросил, да и годы случились не очень позитивные.

Дальше спектрум тасм касеты затем дискеты и прочее. У меня опыта значительно побольше твоего, просто от электроники я ушел в системное администрирование. Потому особенно удручает ситуация с "электронщиками" современными. Остановка в развитии. Взять и из готовых кусков собрать готовое решение уже не нужен никакой левел в электронике, он мешает. Пихать не нужное из прошлого в высокотехнологичные серийные готовые решения выглядит примерно как сельский тракторист чинит современную машину в которой ничего не понимает. 


**orgail** 07-06-2017

Я, наверное, скоро издам книгу "Универсальный контроллер на ARM-e"! :D :D :D с текстами отсюда. Стану мильонэром и уеду на Таити :D :D :D 

Вы вот, товарищи, о женщинах! А они, между прочим, тоже читают. Не стыдно, а? &gt;:D Никакого этикету нонче. Шо за народ пошёл. Ходют и сорют. И ведь взрослые люди! Книги вумные вон читают, паяльниками машут... 


**Пресвятой_ДжимБим** 07-06-2017

> Я, наверное, скоро издам книгу "Универсальный контроллер на ARM-e"! :D :D :D с текстами отсюда. Стану мильонэром и уеду на Таити :D :D :D 
> 
> Вы вот, товарищи, о женщинах! А они, между прочим, тоже читают. Не стыдно, а? &gt;:D Никакого этикету нонче. Шо за народ пошёл. Ходют и сорют. И ведь взрослые люди! Книги вумные вон читают, паяльниками машут...

Сорри. Йа больше так не буду!!!! Чесслово. :D


**Vad** 07-06-2017

Прикольно почитать мемуары ребенка :D

> Я в это время уже занимался радиоэлектронникой и собрал к тому времени пачку приемников от детекторного до трехтранзисторного и это в 9 лет. 

подзадержался в развитии..

на самом деле в этом кружке действительно собрали приемник - детекторный..

и показали 3 транзистора на фото в журнале радио...

но больная детская фантазия, и врожденное свойство детей - преувеличивать(ну, врать по простому)

трансформировало воспоминания до "я сам собрал!"

> Просто дальше я занялся сборкой и развитием компьютерной техники и кружок бросил, да и годы случились не очень позитивные.

в 9 лет? :D 

занялся развитием компьютерной техники?

Ну прям.. я даже и не знаю :D

и как? развил? :D

> Дальше спектрум тасм касеты затем дискеты и прочее. У меня опыта значительно побольше твоего, просто от электроники я ушел в системное администрирование. 

чистый фантазер-эникейщик...

напомню, интернет в России изобрели в 1994... ;D

что ты там администрировал в начале 90х?

вот брехло, о первых сетях требующих администрирования стало слышно ближе к 2000му году :D

ты 10 лет в спектум с кассетами игрался, а потом резко заадминил сеть газпрома ;D

вот ну реально, думай что писаешь! :D

с чего ты взял, что все кроме тебя тупые... и ничего не помнят *Dance*

> Потому особенно удручает ситуация с "электронщиками" современными. 

Ну да, ты себя считаешь матерым электриком :D

в 80м годе транзистор видел.. и диод с куском проволоки..

> Остановка в развитии. 

Это правда.. остановился ты чувак.. вот как из кружка выгнали тебя, так и.. случилась остановка..
> Взять и из готовых кусков собрать готовое решение уже не нужен никакой левел в электронике, он мешает.

И это верно. взял два куска проволоки, накопипастил чужого кода в адрдуину, и что-то "выходит из дырочки".. а что не важно... разберемся потом, подхоним результат :D

дискретное деталье тебя приводит в ужас, потому что ты его видел только на картинках в 9тилетнем возрасте :D

И в оправдание своей отсталости.. ты вещаешь нижеследующее:

> Пихать не нужное из прошлого в высокотехнологичные серийные готовые решения выглядит примерно как сельский тракторист чинит современную машину в которой ничего не понимает.

Ты и есть тот самый тракторист... лепишь "из чего есть" при этом девайс работает "как может".

не от ТЗ и требуемых задачь отталкиваешься, потому что упираешься в собственную ограниченность знаний, опыта.

Для тебя, конечно, это достижение, открытие, откровение :D

но для окружающих - миллион лет назад пройденный этап :D

От этого ты сильно злишься)) и ведешь себя откровенно говоря как ребенок :D

ЗЫ

у тебя там даже серийное производство? :D ;D

хватит выдавать желаемое за действительное :D

хва-тит

взрослей.


**siv237** 07-06-2017

> хватит выдавать желаемое за действительное :D
> 
> хва-тит
> 
> взрослей.

Ох как пукан у помидорчика подгорает, просто прелестно смотреть. :D :D :D

И тут мне доказывает, почему быть не может то что уже есть.

Борьба осла с ветряными мельницами. Исход битвы очевиден.

Жаль тебя даже. :&#039;(

Расскажи лучше о себе, маленький завистник :) 

Почему в твоей жизни не сложилось, ведь такими злыми могут быть только неудачники?

Кто помешал?


**Vad** 07-06-2017

 :D

о чем ты мальчик?

что же ты так сразу в оскорбления падаешь? :-\

А зачем мне рассказывать о себе? тем более в этой теме :D

это разве кому то интересно кроме тебя? :D

Да и не привык я, как ты, на каждом углу кричать, что я в туалет сходил, детекторный приемник собрал, или спектрум с кассетой купил у барыг :D

взрослей.. чувак. $)


**siv237** 07-06-2017

> А зачем мне рассказывать о себе? тем более в этой теме :D

Маленький трусливый помидорчик ;D ;D ;D ;D

Расскажи в другой теме.

> Да и не привык я, как ты, на каждом углу кричать, что я в туалет сходил, детекторный приемник собрал, или спектрум с кассетой купил у барыг

Написал человек с самым большим домиком в этом форуме, полным чванливого хвастовства.


**Cyclamech** 07-06-2017

> Написал человек с самым большим домиком в этом форуме…

Самый большой у меня… :-[


**Gnevko** 07-06-2017

> > Написал человек с самым большим домиком в этом форуме…
> 
> 
> 
> Самый большой у меня… :-[

Стоит задуматься ... :D


**murdoch** 07-06-2017

Vad какой утилитой под Linux можно захватить кадр с камеры? 


**Borodach1** 07-06-2017

Пацаны! Не спорьте! Самый длинный у меня! ))) Ой! Пардон! ))) Я не о том.)))

Я свой первый, настоящий детекторный приёмник собрал в конце 70-х.

Летом у деда, в сарае, нашёл " Книгу Вожатого " ещё присталинского издания. Очень кстати занятная книжка. Будь моя воля, я бы заставил наш минобраз ввести изучение этой книжки в наших школах в обязаловку. Вот по этой книжке мы с другом и делали свой первый детекторный приёмник. 

Знаете в чём была "изюмика" этого приёмника? ;) Думаю, Vad знет. А вот знает ли радиоприёмникостроитель SIV ?... Сомневаюсь... (((

Так вот... К чему это я... Умер сегодня у моего друга отец... Выпил... Мысли сумбурят... Скверно за пазухой, и совсем не от выпитого...((( 

Прошло много времени. Я уже взрослый дядька... Ужас!!! (((

Ну почему я верю здраворассуждающему человеку, с "прямыми" руками, да ещё и имеющему свой позывной? Почему мне грустно читать человека, похоже тоже с "прямыми"руками, но измеряющего содержание химических элементов в растворе окунанием в этот раствор вилки от телевизора??? 

Шо делать??? (((


**gena1** 07-06-2017

> Vad какой утилитой под Linux можно захватить кадр с камеры?

Я делал так, но это очень давно, возможно что-то лучше есть.

Нужна только последняя строка, все что комментарии, это чтобы кондитеры понимали через 15 лет о чем в коде речь ))

[code]#! /bin/bash

#apt-get install fswebcam

path="$HOME/web-foto";

#path="/home/user123/backup_nout/_my_util_/util/camera_foto";

if ! [[ -d $path ]] ; then # Проверяем наличие каталога для сохранения снимка

mkdir -p $path ; # И если его нет, то создаём

fi

#LD_PRELOAD=/usr/lib/i386-linux-gnu/libv4l/v4l1compat.so fswebcam -S 20 -F 3 -r$

fswebcam -S 20 -F 3 -r 640x480 --save="$path/klubnika_capture.jpg" -l 600;

[/code]


**cpf** 07-06-2017

> Пацаны! Не спорьте! Самый длинный у меня! ))) Ой! Пардон! ))) Я не о том.)))
> 
> Я свой первый, настоящий детекторный приёмник собрал в конце 70-х.
> 
> Летом у деда, в сарае, нашёл " Книгу Вожатого " ещё присталинского издания. Очень кстати занятная книжка. Будь моя воля, я бы заставил наш минобраз ввести изучение этой книжки в наших школах в обязаловку. Вот по этой книжке мы с другом и делали свой первый детекторный приёмник. 
> 
> Знаете в чём была "изюмика" этого приёмника? ;) Думаю, Vad знет. А вот знает ли радиоприёмникостроитель SIV ?... Сомневаюсь... (((
> 
> Так вот... К чему это я... Умер сегодня у моего друга отец... Выпил... Мысли сумбурят... Скверно за пазухой, и совсем не от выпитого...((( 
> 
> Прошло много времени. Я уже взрослый дядька... Ужас!!! (((
> 
> Ну почему я верю здраворассуждающему человеку, с "прямыми" руками, да ещё и имеющему свой позывной? Почему мне грустно читать человека, похоже тоже с "прямыми"руками, но измеряющего содержание химических элементов в растворе окунанием в этот раствор вилки от телевизора??? 
> 
> Шо делать??? (((

Можно ещё так:

[![](/imagehost2/thumbs/xdxxdx.jpg)](https://t.me/ponics_ru_files/18562){:target="_blank"}

;D


**Пресвятой_ДжимБим** 07-06-2017

Коллеги(кроме Сива, сорри), давайте по существу. 

Создатель темы интересную схему с делителем и конденсатором подал.

На основе той-же ардуины это будет работать. Можно намотать на ус.

Но.. кое-кто, не буду показывать пальцем, уперся в то, что в ардуине и так есть подтягивающие резисторы.

Да, они есть. Но(!!!) делитель с помощью них не получить(нужен ещё хотя-бы один резистор). А то будет измеряться температура космоса в разных областях вселенной.

Решение Сива - только для Сива. Пусть играется.

А мне интересно продолжение автора темы.

Ни у кого не задел никаких чувств?(эгоцентризм, фетишизм, себЯлюбие)?

З.ы. Очень много работы, не могу часто писать. Подготовка к Кубку конфедераций и Фифа&#039;18..


**Пресвятой_ДжимБим** 07-06-2017

> можно сделать вот так - тогда полярность на контактах можно инвертировать, хватает 2 вывода:
> 
> ![](http://i.piccy.info/i9/238528f01f60654fcbb153b926525e27/1496739602/6710/1053805/Screenshot_06062017_11_59_03_AM_240.jpg)![](http://i.piccy.info/a3/2017-06-06-09-00/i9-11258599/240x229-r/i.gif)
> 
> алгоритм:
> 
> - ADC0 в аналоговый режим, ADC1 - в цифровой с 0м на выходе, меряем напряжение на ADC0;
> 
> - ADC1 в аналоговый режим, ADC0 - в цифровой, меряем на ADC1;

Я про это.


**murdoch** 07-06-2017

> Можно ещё так:

будете смеяться, когда-то делали контактный измеритель влажности древесины - шурупы оказались самым простым надежным вариантом электродов, вместо стандартных игл...


**siv237** 07-06-2017

> Vad какой утилитой под Linux можно захватить кадр с камеры?

Захватываем кадр с /dev/video0 пропуская 200 кадров, для адаптации автоматики камеры к изображению с выводом подробностей дебага с уровнем 7,

пишем кадр в память в разрешении vga

vgrabbj -D 7 -z 200 -i vga &gt; /run/shm/webcam.jpg

Затем накладываем на кадр показания датчиков например и выкладываем в web:

convert -rotate 0 -quality 60 -pointsize 36 -fill brown -draw "text 50,50 &#039;$(echo Дата: $d, $coday суток от всхода томата)

$(echo $H2)

$(echo Бак: $t_bak)

$(echo Корни: $t_lotok)

$(echo Стол: $t_stol)

&#039;" /run/shm/webcam.jpg /var/www/snap.jpg


**siv237** 07-06-2017

> Пацаны! Не спорьте! Самый длинный у меня! ))) Ой! Пардон! ))) Я не о том.)))
> 
> Я свой первый, настоящий детекторный приёмник собрал в конце 70-х.

Первый детекторный приемник у меня получился случайно еще в дошкольном возрасте, проводок к батарее диод и шлемофон от танка подаренный родственником. Я тогда читать еще не особо умел, но в доме было телеателье которое выкидывало много радиодеталей прямо во двор :)

И да самый простой детекторный приемник это два проводочка (подлиннее правда) и диод. Правда слушать приходилось сразу много станций.


**siv237** 07-06-2017

А вообще забавно наблюдать, как "серьезные" дяди обсуждают, почему не будет работать такое простое решение. Главная причина, оно слишком простое. Когнитивный диссонанс привыкших к сложностям.

Ну в любом случае, те кому не поболтать, а реально нужно уже собрали и пользуются :) А вы продолжайте споры в том же духе :)


**siv237** 07-06-2017

> Но.. кое-кто, не буду показывать пальцем, уперся в то, что в ардуине и так есть подтягивающие резисторы.
> 
> Да, они есть. Но(!!!) делитель с помощью них не получить(нужен ещё хотя-бы один резистор). А то будет измеряться температура космоса в разных областях вселенной.

А собрать и проверить страшно? Вдруг всё работает, а ты был не прав. 

Страшно будет признать свои ошибки особенно после того потока бреда, что вы с помидорчиком тут излили. Запусти и докажи, что оно не работает. 

Я утверждаю, что оно работает и точнее, чем то что ты предложил и буржуйского сайта. Если не можешь доказать, то помолчи лучше и не создавай у остальных иллюзию своей правоты.

Я сделал, а не болтал. А ты болтаешь и не сделал.

Перед тем, как собрать решение я его просчитал, а затем проверил на эмуляторе Electronics Workbench убедился, что все с теорией в порядке и рассуждения, что ток не по течет уже не смешно. Очень грустно за текущее состояние образования.


**Vad** 07-06-2017

пойми, дорогой друх, никто не станет заморачиваться с детекторным приемником, если есть сдр :D

зачем мне собирать твой схемотехнический мега-бред.. если я и так, без макетирования могу себе представить его характеристики.

ты не можешь, ты - баран. тебе нужно доказательства неработоспособности, но ты на столько самовлюбленный, что пожертвовал тремя разрядами ацп, ради самоутешения и самовозвышения :D

характеристики - гавно.

зачем на гавно тратить время? ;D

особенно чужое..

зачем на каждом углу умолять повторить это гавно?

уймись уже..

оно никому не интересно..

пойди в вконтакте, в ютубе выложи... конкурс обьяви :D

рядом с "как я прое..срал лето" :D


**siv237** 07-06-2017

> пойми, дорогой друх, никто не станет заморачиваться с детекторным приемником, если есть сдр :D
> 
> зачем мне собирать твой схемотехнический мега-бред.. если я и так, без макетирования могу себе представить его характеристики.
> 
> ты не можешь, ты - баран. тебе нужно доказательства неработоспособности, но ты на столько самовлюбленный, что пожертвовал тремя разрядами ацп, ради самоутешения и самовозвышения :D
> 
> характеристики - гавно.
> 
> зачем на гавно тратить время? ;D
> 
> особенно чужое..
> 
> зачем на каждом углу умолять повторить это гавно?
> 
> уймись уже..
> 
> оно никому не интересно..
> 
> пойди в вконтакте, в ютубе выложи... конкурс обьяви :D
> 
> рядом с "как я прое..срал лето" :D

никто это ты про себя. можно я так и буду тебя называть - никто ок?

никто теперь не спорит, что оно не работает. Оно просто фигово работает, говорит никто. Никто умный и изворотливый, в отличии от святоши :)

А теперь ответь, то говно, что получилось сможет рассчитывать ЕС в пределах +- 0.5 мСи/см, по твоему мнению? 

Вроде такой предел измерений ты считаешь нормальным для гидропоники, о чем не раз говорил ранее.


**** 08-06-2017

Собрать. Млин, звучит.

Два проводка, и собрать!)))

Если бы было чо собирать. Собрать - это не два провода сунуть в ардуину и скопипастить какой-то совершенно кошмарный код, чтобы что? Чтобы это работало только у тебя!

Ты молодец! Собрал, у тебя все работает. Класс!

Но не навязывай это людям. Тем более, что ты писал ранее, что тебе на людей немного положить.

А то получается, что ты как-бы говоришь: Смотрите, я собрал, оно работает! Вы легко можете это сделать!

Вот тока нужен ещё довесок из твоих графиков, компьютеров, Малин и прочего железа.

Или ты идею привнес, а с остальным типа сами разбирайтесь?

Тогда ты ещё хуже, чем я думал. Светотч, блин.

Утверждать о своей гениальности, не зная что ардуина ещё имеет и eeprom, а не только пины для двух проводов.

Утверждать о своей гениальности, и который месяц не суметь подключить китайский ph-шилд, который совершенно просто подключается..

Странный ты чел.

Ты небось ругаешь "тупых" начальников на работе, а?)))


**siv237** 08-06-2017

> Собрать. Млин, звучит.
> 
> Два проводка, и собрать!)))
> 
> Если бы было чо собирать. Собрать - это не два провода сунуть в ардуину и скопипастить какой-то совершенно кошмарный код, чтобы что? Чтобы это работало только у тебя!
> 
> Ты молодец! Собрал, у тебя все работает. Класс!
> 
> Но не навязывай это людям. Тем более, что ты писал ранее, что тебе на людей немного положить.
> 
> А то получается, что ты как-бы говоришь: Смотрите, я собрал, оно работает! Вы легко можете это сделать!
> 
> Вот тока нужен ещё довесок из твоих графиков, компьютеров, Малин и прочего железа.
> 
> Или ты идею привнес, а с остальным типа сами разбирайтесь?
> 
> Тогда ты ещё хуже, чем я думал. Светотч, блин.
> 
> Утверждать о своей гениальности, не зная что ардуина ещё имеет и eeprom, а не только пины для двух проводов.
> 
> Утверждать о своей гениальности, и который месяц не суметь подключить китайский ph-шилд, который совершенно просто подключается..
> 
> Странный ты чел.
> 
> Ты небось ругаешь "тупых" начальников на работе, а?)))

Вообще наезд не по теме. Я же даже написал, готов помочь лично и безвозмездно. Я понимаю, что не у всех лунуксы сервера и прочее. 

Гением себя я не называл, но согласись не приятно, когда ты сделал и оно работает и ты понимаешь почему оно работает, а тебе говорят, оно работать не может. И просто перед фактом категорично. :-\

pH шилд просто лежит в коробке, как и лежал месяц до этого. Я просто еще даже не пытался его прикрутить. Да и на практике я понял, что он мне особо не нужен. В каждый бак втыкать слишком дорого, а следить постоянно за pH потеряло всякий смысл с момента, когда я научился делать стабильные растворы.

Сейчас более актуальная назревает идея измерять уровень раствора. Сейчас о том, что раствор на критическом уровне я вижу по графику ЕС, когда уровень опускается ниже электродов в процессе затопления. А хотелось, бы более точно с вычислением расхода раствора в час. Ну при этом что, бы без всякой механики.


**Пресвятой_ДжимБим** 08-06-2017

Это был не наезд. Лан, забей..

Работает и работает. Но лучше было бы, еслиб ты развил эту тему с ардуиной: ЕС, калибровка, компенсация. Все на ардуине. А по сериалу только показания.

Вот бы где предметно подискутировали, а не гав-гав.


**siv237** 08-06-2017

> Это был не наезд. Лан, забей..
> 
> Работает и работает. Но лучше было бы, еслиб ты развил эту тему с ардуиной: ЕС, калибровка, компенсация. Все на ардуине. А по сериалу только показания.
> 
> Вот бы где предметно подискутировали, а не гав-гав.

Так вроде же не сложно. Формула калибровки есть. Думаю вписать просто третьим значением это одна строчка всего.

Нужно всего два значения внести в память и будет ардуина считать ЕС, но куда выводить. Просто в сериал? А дальше ничего же не меняется. У меня графопостроитель gnuplot просто сам считает формулу, а берет именно сырые данные с меткой времени.

Давай подискутируем, я только за, всегда открыт к аргументированному диалогу. А то сразу накинулись с шуточками и ничего предметно.

У коллеги у которого я временно ардуинку подрезал есть еще экран цветной к ней. Я не в давался в детали, но суть такая, он весь работает все прекрасно рисует цветные полосочки, пишет красивые буковки, но все полностью порты кроме i2c заняты. На нем бы наверно шикарно графики бы смотрелись, и встроенный microSDHC ридер для хранения уже имеется. И вроде как совсем не дорого.


**Vad** 08-06-2017

Господи, сколько можно "мять говно"?

мне уже тошно от идиотизма siv237..

у меня стойкая аллергия на идиотов.. и никакой антигистамин не помогает...

уймись уже.. баран упертый.

не усугубляй свое, и так отвратительное, положение...

Сколько можно тебе об этом говорить?



**siv237** 08-06-2017

> Господи, сколько можно "мять говно"?
> 
> мне уже тошно от идиотизма siv237..
> 
> у меня стойкая аллергия на идиотов.. и никакой антигистамин не помогает...
> 
> уймись уже.. баран упертый.
> 
> не усугубляй свое, и так отвратительное, положение...
> 
> Сколько можно тебе об этом говорить?

Желчью не захлебнись.


**Vad** 08-06-2017

Я?

Да брось, мне жалко тебя просто..

Нет у меня никакой желчи..

Те, кто меня знает, подтвердят мою отзывчивость и постоянную готовность прийти на помощь..

а ты просто судишь по себе.. а так не надо *???*

не все такие как ты..

даже скажу больше... все не такие как ты..

ты редкий.. уникальный... незабвенный....

весь форум будет тебя помнить.. ВЕЧНО :D

За все время моего присутствия на форуме, только один чувак превзошел тебя.. некий "Лахуз"

За его заслуги и вклад в развитие, была названа единица измерения влажности кокоса - "1 Лахуз"

Смотри, чтоб ты не удостоился той же участи... 

единица бесполезной работы пока еще не имеет названия..

но может быть названа в честь тебя... SIV :D


**Пресвятой_ДжимБим** 08-06-2017

> > Это был не наезд. Лан, забей..
> > 
> > Работает и работает. Но лучше было бы, еслиб ты развил эту тему с ардуиной: ЕС, калибровка, компенсация. Все на ардуине. А по сериалу только показания.
> > 
> > Вот бы где предметно подискутировали, а не гав-гав.
> 
> 
> 
> Так вроде же не сложно. Формула калибровки есть. Думаю вписать просто третьим значением это одна строчка всего.
> 
> Нужно всего два значения внести в память и будет ардуина считать ЕС, но куда выводить. Просто в сериал? А дальше ничего же не меняется. У меня графопостроитель gnuplot просто сам считает формулу, а берет именно сырые данные с меткой времени.
> 
> Давай подискутируем, я только за, всегда открыт к аргументированному диалогу. А то сразу накинулись с шуточками и ничего предметно.
> 
> У коллеги у которого я временно ардуинку подрезал есть еще экран цветной к ней. Я не в давался в детали, но суть такая, он весь работает все прекрасно рисует цветные полосочки, пишет красивые буковки, но все полностью порты кроме i2c заняты. На нем бы наверно шикарно графики бы смотрелись, и встроенный microSDHC ридер для хранения уже имеется. И вроде как совсем не дорого.

Не обязательно в сериал данные выводить. Есть экран lcd1602 i2c. Стоит около 200р. Этого более чем достаточно. Да и подключается двумя проводами.

Далее можно вывести кнопку калибровки(т.е. при срабатывании вызывается подфункция калибровки). Не у всех ведь есть графопостроитель?? Вернее ни одного человека не знаю у которого он бы был.

Если не лень будет, приведу кусок кода калибровки с записью в eeprom.

Код термокомпенсации я уже давал.

И получится компактное универсальное устройство с выводом на экранчик и в сериал. С калибровочной кнопкой.

З.ы. посмотрел бы ты на показания своего изделия с ханнавскими калибровочным растворами(по двум точкам). Так, на всякий случай.


**Vad** 08-06-2017

У меня есть :-\

без графиков никак не понять, что было в тот момент времени когда я не смотрю на прибор ;)

(жив ли кот Шреденгера)


**siv237** 08-06-2017

> Не обязательно в сериал данные выводить. Есть экран lcd1602 i2c. Стоит около 200р. Этого более чем достаточно. Да и подключается двумя проводами.
> 
> Далее можно вывести кнопку калибровки(т.е. при срабатывании вызывается подфункция калибровки). Не у всех ведь есть графопостроитель?? Вернее ни одного человека не знаю у которого он бы был.
> 
> Если не лень будет, приведу кусок кода калибровки с записью в eeprom.
> 
> Код термокомпенсации я уже давал.
> 
> И получится компактное универсальное устройство с выводом на экранчик и в сериал. С калибровочной кнопкой.
> 
> З.ы. посмотрел бы ты на показания своего изделия с ханнавскими калибровочным растворами(по двум точкам). Так, на всякий случай.

Ну так это уже получится полноценное устройство но без статистики. Для меня оно мало смысла несет, я готов только поучаствовать в разработке такого устройства, но сам делать не готов. Как оно должно работать понимание четкое есть.

Если ты готов его довести до рабочего состояния и открыть для всех желающих схему и полный код для повторения, я с удовольствием помогу с расчетами и методикой калибровки.

п.с. Экранчик с lcd1602 и модулем i2c у меня к малинке подключен на светящейся стене и показывает время и влажность с температурой. Так, что я понимаю о чем речь.


**Пресвятой_ДжимБим** 08-06-2017

Почему без статистики??? Вывод в сериал, и собирай статистику.


**Vad** 08-06-2017

> Если ты готов его довести до рабочего состояния и открыть для всех желающих схему и полный код для повторения, я с удовольствием помогу с расчетами и методикой калибровки.

разраб, который способен "довести до рабочего состояния", не нуждается в помощи "с расчетами и методикой калибровки" :D

это самое простое ;D


**siv237** 08-06-2017

> > Если ты готов его довести до рабочего состояния и открыть для всех желающих схему и полный код для повторения, я с удовольствием помогу с расчетами и методикой калибровки.
> 
> 
> 
> разраб, который способен "довести до рабочего состояния", не нуждается в помощи "с расчетами и методикой калибровки" :D
> 
> это самое простое ;D

Серьезно? Может расскажешь как, не подглядывая в мою методичку :)

Или снова скажешь, что все знаешь и умеешь но не намерен никому ничего доказывать?


**siv237** 08-06-2017

> Почему без статистики??? Вывод в сериал, и собирай статистику.

Так в том и вопрос, чем собирать статистику? Я вот на линухе спокойно читаю порт, назначаю метку и складываю в файл одной строчкой:

#!/bin/bash

echo "`date &#039;+%Y/%m/%d %H:%M:%S&#039;`;`head -n2 /dev/ttyUSB0tail -n1`" &gt;&gt; /var/log/sensors/arduino.log

А как быть с виндой? Тут ведь клиента писать надо.


**Пресвятой_ДжимБим** 08-06-2017

Эксель.


**Vad** 08-06-2017

> Серьезно? Может расскажешь как, не подглядывая в мою методичку :)
> 
> Или снова скажешь, что все знаешь и умеешь но не намерен никому ничего доказывать?

а че тут расказывать? это элементарная вещь..

сунул в раствор 4mS, ткнул кнопку - запомнил значение ацп для данной проводимости.

сунул в раствор 1mS, ткнул кнопку, запомнил значение ацп для данной проводимости

все, баран, *Dance* дальше рассказывать? как, что из чего вычесть и что на сколько разделить...

запасись серой и свинцом, да иди из них детекторный приемник собери! 

я те говорю работает! ;D


**Vad** 08-06-2017

> > Почему без статистики??? Вывод в сериал, и собирай статистику.
> 
> 
> 
> Так в том и вопрос, чем собирать статистику? Я вот на линухе спокойно читаю порт, назначаю метку и складываю в файл одной строчкой:
> 
> #!/bin/bash
> 
> echo "`date &#039;+%Y/%m/%d %H:%M:%S&#039;`;`head -n2 /dev/ttyUSB0tail -n1`" &gt;&gt; /var/log/sensors/arduino.log
> 
> А как быть с виндой? Тут ведь клиента писать надо.

замути веб интерфейс )) 

будет кроссплатформенно-кроссбраузерно независимая вещь :D

не? не хватит тяму?


**siv237** 08-06-2017

> > Серьезно? Может расскажешь как, не подглядывая в мою методичку :)
> > 
> > Или снова скажешь, что все знаешь и умеешь но не намерен никому ничего доказывать?
> 
> 
> 
> а че тут расказывать? это элементарная вещь..
> 
> сунул в раствор 4mS, ткнул кнопку - запомнил значение ацп для данной проводимости.
> 
> сунул в раствор 1mS, ткнул кнопку, запомнил значение ацп для данной проводимости
> 
> все, баран, *Dance* дальше рассказывать? как, что из чего вычесть и что на сколько разделить...
> 
> запасись серой и свинцом, да иди из них детекторный приемник собери! 
> 
> я те говорю работает! ;D

Для какой проводимости? Откуда ты её знаешь у тебя прибор уже есть? А если нет прибора, что делать будешь?

Сам мне же доказывал в теме, о калибровке прибора про нелинейность и 1/x (хотя в том случае вообще не попал как всегда в тему) но тупо считаешь линейную зависимость или я не прав? :) Если нет расскажи, что на что поделить :)

А хотя я понял товарищь шариков. Вы предлагаете просто взять все и поделить ;D ;D ;D ;D


**siv237** 08-06-2017

> > > Почему без статистики??? Вывод в сериал, и собирай статистику.
> > 
> > 
> > 
> > Так в том и вопрос, чем собирать статистику? Я вот на линухе спокойно читаю порт, назначаю метку и складываю в файл одной строчкой:
> > 
> > #!/bin/bash
> > 
> > echo "`date &#039;+%Y/%m/%d %H:%M:%S&#039;`;`head -n2 /dev/ttyUSB0tail -n1`" &gt;&gt; /var/log/sensors/arduino.log
> > 
> > А как быть с виндой? Тут ведь клиента писать надо.
> 
> 
> 
> замути веб интерфейс )) 
> 
> будет кроссплатформенно-кроссбраузерно независимая вещь :D
> 
> не? не хватит тяму?

Ты это мне? У меня есть и веб интерфейс и кросплатформенность и браузеронезависимость. 

Но какое это отношение имеет к считыванию данных с порта в linux-е?


**siv237** 08-06-2017

> Эксель.

Эксель умеет с порта читать? С базы умеет, из файла умеет, но вот что-бы с порта напрямую да в постоянном режиме.

Или я не понял, что ты имел ввиду?


**Vad** 08-06-2017

нахрен линукс..

все само работает

вот например как тут я делал 5 лет назад ))

ничего "считывать" не надо все работает на простенькой 328й меге (для тебя, баран - ардуина УНО :D)

[http://forum.ponics.ru/index.php?topic=1764.msg64515#msg64515](http://forum.ponics.ru/index.php?topic=1764.msg64515#msg64515){:target="_blank"}

там есть видео с экселем)) если мозга хватит - ноймешь как получить данные в эксель ;D


**siv237** 08-06-2017

> нахрен линукс..
> 
> все само работает
> 
> вот например как тут я делал 5 лет назад ))
> 
> ничего "считывать" не надо все работает на простенькой 328й меге (для тебя, баран - ардуина УНО :D)
> 
> [http://forum.ponics.ru/index.php?topic=1764.msg64515#msg64515](http://forum.ponics.ru/index.php?topic=1764.msg64515#msg64515){:target="_blank"}
> 
> там есть видео с экселем)) если мозга хватит - ноймешь как получить данные в эксель ;D

Получить данные в эксель... *Wall* *Wall* *Wall*

Вот вы товарищ Шариков, из простых людей будете как я посмотрю, из пролетариата. 

Я вашу позицию понимаю и признаю.

Эксель в массы.

Жаль только, что идеологически вы как-то не выдержаны. А как же ваши осуждающие и обличающие речи в сторону товарища цикломеха за использования сего инструмента в праздных целях?

А еще позволю вам заметить, что вы канал свой в ютубе раскручиваете да?


**Vad** 08-06-2017

 ;D

чистый вафел..

ты можешь с этим файлом делать что хочешь)))

ты идиот или прикидываешься? ))


**siv237** 08-06-2017

> ничего "считывать" не надо все работает на простенькой 328й меге (для тебя, баран - ардуина УНО :D)

Где мега рисует график? Я вижу только импорт текстового файла со встроенного накопителя. Не было библиотеки графики рисовать на устройстве?

Вопрос так и открыт, чем в непрерывном режиме читать данные с ардуины на винде и строить на ней же графики?


**Пресвятой_ДжимБим** 08-06-2017

Эээ.. ващет в экселе есть vba..

Если тошнотно разбираться, то можно сделать просто запись в .dat с помощью visual studio.


**siv237** 08-06-2017

> Эээ.. ващет в экселе есть vba..
> 
> Если тошнотно разбираться, то можно сделать просто запись в .dat с помощью visual studio.

Вот, нужно делать некую виндовскую службу, которая всегда запущена и читает в реалтайме с порта и пишет лог. Или второй вариант ардуина копит буфер, а некая софтина с писишки по шедулеру запускается и забирает его к себе и снова в лог. Но тут уже часы реального времени придется держать на самой ардуине, так-как метку времени комп уже не поставит.

Но в любом случае второй вариант более логичный в случае, когда комп включается эпизодически.


**allex_step** 08-06-2017

а ятак виджу тута апшыпка в написывания адыресо хворума - правильна изхадя из всиопщайо апстанофки-атнышанийо - ponic.sru

или уже определитесь: кто из вас - "красные штаны тореадора", а кто - другая сторона...


**Gnevko** 08-06-2017

Ну что вы, ponic.sru как бы предполагает наличие некоего органического компонента на выходе. :D А это в форум по гидропонике, тут с органикой как бы не дружат! Оно конечно с первого взгляда очень похоже на какашкометательство, и размах руки тот же и траектория полета, но все же, кажется мне, что стоит поискать что то зловонное среди неорганических соединений :D 


**allex_step** 08-06-2017

дык я об отношениях между пользователями


**Gnevko** 08-06-2017

дык и я о том же ...


**allex_step** 08-06-2017

[font=verdana]

ааа.... понял.... все как обычно ;) :D утверждение, основаное на "кажется"[/font]

> [font=verdana]Ну что вы, ... Оно конечно с первого взгляда очень похоже ... , но все же, кажется мне, что ...[/font]

и то что с органикой не дружат - тоже заметно с первого принюхивания невооруженным глазом - ея извергают направо-налево

я думал то первые впечатления такие были - какой неадекват встретился... но дальше-чаще: куда ни плюнь - или Царь, или Нарцис, или одно из двух...


**Gnevko** 08-06-2017

"утверждение" - это как то уж громко звучит. Скорее - "мнение".


**allex_step** 08-06-2017

я там "ИМХО" не заметил

а "Ну что вы" выражает кмк именно такой вариант


**Пресвятой_ДжимБим** 09-06-2017

Так. По теме. Времени нехватка. Дома появляюсь все реже. По возможности выложу готовое устройство, с библиотеками и кодами. Но не сейчас.

Может на ближайших выходных..

Только не надо, к примеру, переименовывать переменные, а потом выдавать код за свой)) :D


**siv237** 09-06-2017

> Так. По теме. Времени нехватка. Дома появляюсь все реже. По возможности выложу готовое устройство, с библиотеками и кодами. Но не сейчас.
> 
> Может на ближайших выходных..
> 
> Только не надо, к примеру, переименовывать переменные, а потом выдавать код за свой)) :D

Выкладывай на github тогда, тогда авторство никто не присвоит себе :)


**Пресвятой_ДжимБим** 09-06-2017

Да мне наплевать на авторство по большому счету..

Еслиб я зарабатывал этим, тогда да. А так.. разминка для мозгов.


**siv237** 09-06-2017

> Да мне наплевать на авторство по большому счету..
> 
> Еслиб я зарабатывал этим, тогда да. А так.. разминка для мозгов.

Ну и думаю для устройства нужно сперва определить целевую группу. 

Те, кто могут сами сделать, как правило делают по своему, им интереснее просто идея и направление.

Те-же кто хочет получить результат не понимая принципов, то им нужно просто готовое устройство и тут две категории: 

одним проще купить готовое

у вторых денег нет на готовое и они согласны собрать, если ну очень просто.


**allex_step** 09-06-2017

[size=2]почему то определили только две крайности :-\ [font=Verdana]а как же категория тех кто может сделать, но не изобретать (велАсипеТ ;) )?[/font][/size]


**Пресвятой_ДжимБим** 09-06-2017

> > Да мне наплевать на авторство по большому счету..
> > 
> > Еслиб я зарабатывал этим, тогда да. А так.. разминка для мозгов.
> 
> 
> 
> Ну и думаю для устройства нужно сперва определить целевую группу. 
> 
> Те, кто могут сами сделать, как правило делают по своему, им интереснее просто идея и направление.
> 
> Те-же кто хочет получить результат не понимая принципов, то им нужно просто готовое устройство и тут две категории: 
> 
> одним проще купить готовое
> 
> у вторых денег нет на готовое и они согласны собрать, если ну очень просто.

Мне все равно. 


**murdoch** 10-06-2017

заказал недорогой 4-канальный 16-биттый АЦП: https://ru.aliexpress.com/item/I2C-ADS1115-16-Bit-ADC-4-channel-Module-with-Programmable-Gain-Amplifier-2-0V-to-5/32716980393.html

одним модулем можно мерить Т, Ph, EC раствора с приличной точностью...


**Vad** 10-06-2017

а куда делись АЦПшки из СТМа?

их мало чтоль?

и зачем T измерять ацп? *???*

есть же 1 wire 18b20..


**murdoch** 10-06-2017

АЦПшки СТМа никуда не делись, меряют...

просто нарыл на Али этот модуль, и в порядке бреда подумалось сделать отдельную платку все-в-одном Ph + EC + CO2 + Tраствора...

все на одной шине, ну и лишняя точность не помешает, 2..3$ карман не тянут...

хорошо что есть диф.режим и PGA, плюс опора на порядок точнее СТМки...

18b20 тоже подключал, работает, но дурацкий протокол 1 wire своими задержками портит всю малину с Modbus - иногда херятся пакеты, нужно переделывать под DMA...


**Vad** 10-06-2017

если честно, мне не нравится идея измерять температуру АЦП, это надо ЛМ35 лепить.. или что-то подобное.. если хочется результата, и чтоб он хотя бы был близок к температуре :D

А чтоб время не тратить на опрос 1820 ее нужно читать не за "один раз"...

а за два прохода..

первый проход - запускаем преобразование-измерение, потом возвращаемся, по таймеру, или когда нам вздумается и читаем, что оно там наизмеряло. у нее время преобразования .. если не изменяет память 750мс.

И если не спешить из нее читать раньше времени.... и не торчать в дилее пока идет преобразование - ничего не потеряется..

был у меня проект, где было аж 130 штук 1820 :D все висели на одной шине, длиной аж 30 метров.. и ничего не терялось...(я бы умаялся такой жгут проводов тянуть :D ну и разорился бы на АЦП и мультиплексорах)

при "библиотечном" опросе всех датчиков ушло бы больше двух минут :D

а так справлялись за пару секунд.

с квадратной шиной так не выйдет, имейте ввиду.. она одновременно "простой" и "длинной" не бывает..

Разве что.. не делать ее длиннее 50-80 см *???* При большей длине... там свои заморочки могут начаться.. скорость, емкость, помехи...

хотя у некоротых и по 3-5 метров работает на витой паре..*???*


**murdoch** 10-06-2017

> нужно читать не за "один раз"...

так и делаю, только наоборот - читаю, и сразу запускаю новое преобразование, в паузе обрабатываю другие задачи... На время битовых слотов приходится запрещать прерывания - это до 100мкс на бит...


**Vad** 10-06-2017

что-то не ясное... если я правильно понял.. модбас овер усарт?

модбас же там не железный?

что-то я запутался :-\



**murdoch** 12-06-2017

> а куда делись АЦПшки из СТМа? их мало чтоль?

отдельный I2C-АЦП проще изолировать - для Ph-датчика это важно, и для ЕС не помешает... Цена вопроса всего 3$:

[http://www.analog.com/media/en/technical-documentation/data-sheets/ADUM1250_1251.pdf](http://www.analog.com/media/en/technical-documentation/data-sheets/ADUM1250_1251.pdf){:target="_blank"}

[http://www.ti.com/lit/ds/symlink/iso1540.pdf](http://www.ti.com/lit/ds/symlink/iso1540.pdf){:target="_blank"}

[http://www.silabs.com/documents/public/data-sheets/Si860x.pdf](http://www.silabs.com/documents/public/data-sheets/Si860x.pdf){:target="_blank"}

[https://ru.aliexpress.com/item/ADUM1251ARZ-ADUM1251AR-ADUM1251-brand-AD-encapsulation-SOP8-imported-new-and-original-free-shipping/32303592809.html](https://ru.aliexpress.com/item/ADUM1251ARZ-ADUM1251AR-ADUM1251-brand-AD-encapsulation-SOP8-imported-new-and-original-free-shipping/32303592809.html){:target="_blank"}

[https://ru.aliexpress.com/item/FREE-SHIPPING-SI8400-SI8400AB-B-IS-SI8400AB-SOP8-5PCS-in-Stock/32490436468.html](https://ru.aliexpress.com/item/FREE-SHIPPING-SI8400-SI8400AB-B-IS-SI8400AB-SOP8-5PCS-in-Stock/32490436468.html){:target="_blank"}

[https://ru.aliexpress.com/item/10-PCS-FB0505S-1W-SIP-4-B0505S-B0505-DUAL-SINGLE-OUTPUT-DC-DC-CONVERTER/1149703623.html](https://ru.aliexpress.com/item/10-PCS-FB0505S-1W-SIP-4-B0505S-B0505-DUAL-SINGLE-OUTPUT-DC-DC-CONVERTER/1149703623.html){:target="_blank"}


**Vad** 12-06-2017

> отдельный I2C-АЦП проще изолировать - для Ph-датчика это важно, и для ЕС не помешает... Цена вопроса всего 3$:

Несомненно.

вот только измеритель pH нужно изолировать ОТ ВСЕГО, в том числе от измерителя EC.. а не только от контроллера..


**murdoch** 12-06-2017

зачем? и в Ph, и в EC меряются потенциалы относительно одного раствора.

неужели между ними будет большая разность? не думаю...

хотя, без изоляции часть тока может утекать между разными электродами...


**Vad** 12-06-2017

ну, вот.. просто поверьте...


**Пресвятой_ДжимБим** 13-06-2017

Плюсую. Изоляция ph нужна. Сам намучался. Отдельное питание + отдельный растворный узелок(так у меня), т.е. раствор закачивается в отдельный узел, дабы измерить pH.


**murdoch** 13-06-2017

для минимизации утечки ЕС электрода может подойти штекер с кольцевым "земляным" электродом, и по центру - "плюсовой".

типа такого: [https://www.chipdip.ru/product/sq1809-0008](https://www.chipdip.ru/product/sq1809-0008){:target="_blank"}

контакты вроде покрыты никелем (это хорошо), бывают и позолоченные (еще лучше): [https://www.chipdip.ru/product0/8384030668](https://www.chipdip.ru/product0/8384030668){:target="_blank"}


**siv237** 13-06-2017

> для минимизации утечки ЕС электрода может подойти штекер с кольцевым "земляным" электродом, и по центру - "плюсовой".
> 
> типа такого: [https://www.chipdip.ru/product/sq1809-0008](https://www.chipdip.ru/product/sq1809-0008){:target="_blank"}
> 
> контакты вроде покрыты никелем (это хорошо), бывают и позолоченные (еще лучше): [https://www.chipdip.ru/product0/8384030668](https://www.chipdip.ru/product0/8384030668){:target="_blank"}

Что значит с кольцевым "земляным" и по центру - "плюсовой"? ЕС на переменке измеряют, или вы о другом?


**Vad** 13-06-2017

> для минимизации утечки ЕС электрода может подойти штекер с кольцевым "земляным" электродом, и по центру - "плюсовой".
> 
> типа такого: [https://www.chipdip.ru/product/sq1809-0008](https://www.chipdip.ru/product/sq1809-0008){:target="_blank"}
> 
> контакты вроде покрыты никелем (это хорошо), бывают и позолоченные (еще лучше): [https://www.chipdip.ru/product0/8384030668](https://www.chipdip.ru/product0/8384030668){:target="_blank"}

мысль верная..

на внешний подавать "возбуждение", внутренний - измерительный..

ЗЫ

СИВ, учи физику. хоть чуть чуть


**siv237** 13-06-2017

> > для минимизации утечки ЕС электрода может подойти штекер с кольцевым "земляным" электродом, и по центру - "плюсовой".
> > 
> > типа такого: [https://www.chipdip.ru/product/sq1809-0008](https://www.chipdip.ru/product/sq1809-0008){:target="_blank"}
> > 
> > контакты вроде покрыты никелем (это хорошо), бывают и позолоченные (еще лучше): [https://www.chipdip.ru/product0/8384030668](https://www.chipdip.ru/product0/8384030668){:target="_blank"}
> 
> 
> 
> мысль верная..
> 
> на внешний подавать "возбуждение", внутренний - измерительный..
> 
> ЗЫ
> 
> СИВ, учи физику. хоть чуть чуть

Ну вот не научили видать в школе. У меня вот вырисовывается только вариант с двумя такими штекерами и никак не с одним. При этом сам кабель должен быть минимум сдвоенным и с экраном. Т.е. три минимум провода.

Может урок проведешь, расскажешь, схему покажешь учитель? ;D


**murdoch** 13-06-2017

> Что значит с кольцевым "земляным" и по центру - "плюсовой"?

ИМХО у ЕС с штыревыми электродами часть тока будет утекать на "землю" Ph электрода.

кольцевой "земляной" электрод частично экранирует этот ток утечки.

что касается "переменки" - никто не мешает инвертировать полярность электродов, но мерять придется при положительной полярности (плюс по центру, минус снаружи), минусовую полярность использовать для минимизации электролиза...


**Vad** 13-06-2017

когда вы возьмете в руки pH электрод, тогда станет понятно почему он боится ВСЕГО.. и требует обвязки.. напрямую к АЦП его подключить НЕЛЬЗЯ..(даже если получится что-то измерить - он умрет (не перманентно, отойдет через неделю)за несколько часов)

выходное сопротивление электрода гигаомы.

чтоб снять с него потенциал, (это источник ЭДС) нужен усилитель с входным сопротивлением БОЛЬШЕ чем у электрода..

ну и.. при такой "завязке" любой посторонний микро потенциал, загоняет мерелку в тупик..

по этому все должно "висеть в воздухе" *???* 


**murdoch** 13-06-2017

усилитель конечно будет - в наличии LMC662 и TLC27L2.

изолировать измерительную часть наверно нужно - выше писал про I2C изоляторы.

весь раствор - по сути проводник, хрен его знает откуда может вылезти гальваническая завязка...


**Vad** 13-06-2017

нормально, подойдет в самый раз *8)*

но изолировать и экранировать все равно придется..

вход от электрода на плате не разводите.. прям от ноги микры до разьема.. перемычкой в воздухе пусть висит..


**Vad** 13-06-2017

учтите что выход у электрода двухполярный... 

тут придется или искусственную землю..(плохо) или двуполярное питание на ОУ


**murdoch** 13-06-2017

есть инверторы TPS60403, NCP1729


**Vad** 13-06-2017

применяю ICL7660

дешевле вероятно нет *???*


**Пресвятой_ДжимБим** 13-06-2017

[http://www.labcatalog.ru/?rec=6887732&amp;mcat=457](http://www.labcatalog.ru/?rec=6887732&amp;mcat=457){:target="_blank"}


**Пресвятой_ДжимБим** 13-06-2017

Про цилиндрический электрод


**murdoch** 14-06-2017

 :D дальше можно не работать - уже фсе есть:

[https://hightech.fm/2017/06/13/food-computers](https://hightech.fm/2017/06/13/food-computers){:target="_blank"}

[https://www.fastcompany.com/40419891/these-food-computers-use-ai-to-make-climate-recipes-for-the-best-tasting-crops?utm_source=feedly&amp;utm_medium=webfeeds](https://www.fastcompany.com/40419891/these-food-computers-use-ai-to-make-climate-recipes-for-the-best-tasting-crops?utm_source=feedly&amp;utm_medium=webfeeds){:target="_blank"}

[https://www.media.mit.edu/posts/build-a-food-computer/](https://www.media.mit.edu/posts/build-a-food-computer/){:target="_blank"}


**siv237** 14-06-2017

> :D дальше можно не работать - уже фсе есть:
> 
> [https://hightech.fm/2017/06/13/food-computers](https://hightech.fm/2017/06/13/food-computers){:target="_blank"}
> 
> [https://www.fastcompany.com/40419891/these-food-computers-use-ai-to-make-climate-recipes-for-the-best-tasting-crops?utm_source=feedly&amp;utm_medium=webfeeds](https://www.fastcompany.com/40419891/these-food-computers-use-ai-to-make-climate-recipes-for-the-best-tasting-crops?utm_source=feedly&amp;utm_medium=webfeeds){:target="_blank"}
> 
> [https://www.media.mit.edu/posts/build-a-food-computer/](https://www.media.mit.edu/posts/build-a-food-computer/){:target="_blank"}

Ухтыж, жесть то какая. 


**Cyclamech** 14-06-2017

Завязываю с кальками:

> Сегодня, как пишет Fast Company, в течение одного цикла роста для каждого отдельно взятого растения цифровой парник отслеживает около трех миллионов параметров. Анализируют эти данные с помощью алгоритмов машинного обучения. Они находят лучшие сочетания климатических факторов для выращивания тех или иных культур — так называемые «климатические рецепты», которые уже сегодня доступны каждому, кто захочет выращивать овощи дома.



**murdoch** 14-06-2017

;) ради пиара чего только не напишешь...

ну и журналюге приврать или брякнуть какую глупость - как 2 пальца...


**Cyclamech** 14-06-2017

> ;) ради пиара чего только не напишешь...
> 
> ну и журналюге приврать или брякнуть какую глупость - как 2 пальца...

ну или "фаст компани" спешит, или "ниггеров" в МИТ набирают по квоте какой или просто за деньги… *???*


**cpf** 15-06-2017

> Завязываю с кальками:
> 
> 
> > Сегодня, как пишет Fast Company, в течение одного цикла роста для каждого отдельно взятого растения цифровой парник отслеживает около трех миллионов параметров. Анализируют эти данные с помощью алгоритмов машинного обучения. Они находят лучшие сочетания климатических факторов для выращивания тех или иных культур — так называемые «климатические рецепты», которые уже сегодня доступны каждому, кто захочет выращивать овощи дома.

> > ;) ради пиара чего только не напишешь...
> > 
> > ну и журналюге приврать или брякнуть какую глупость - как 2 пальца...
> 
> 
> 
> ну или "фаст компани" спешит, или "ниггеров" в МИТ набирают по квоте какой или просто за деньги… *???*

 

Переводчик - "профан": ему что parameters, что data points - "одна фигня" :D.

У "любителей графиков", обитающих здесь, количество точек (измерений) - тоже не маленькое за цикл выращивания (например, за полгода). А если ещё строить графики по десятку-другому параметров (включая "световой день", "интенсивность УФ", "сила ветра", "присутствие элемента X в растворе" :-\) можно и на 3 миллиона точек выйти легко :D.

Cyclamech! Пора переходить на новый уровень: строить калькуляторы с обратной связью (на самообучающихся Нейронных сетях). Не важно по какому параметру связь, главное, побольше "точек загнать" в Нейросеть, самых разных (а дальше Нейросети - сами разберутся, что, с чем и как связано :D). Тогда ты - "будешь в тренде" данного форума (даже на "пике контроллеростроения", открывая перед электронщиками безграничные горизонты в различных измерениях ) :).

Правда, пока Нейросети обучатся - будет немало "жертв", но, Наука - их требует! ;D


**siv237** 15-06-2017

> Правда, пока Нейросети обучатся - будет немало "жертв", но, Наука - их требует! ;D

Когда они совсем обучатся, то жертв станет значительно больше :D


**murdoch** 01-08-2017

предварительная схема модуля ЕС метра с инверсией полярности и отключением электродов:

![](http://i.piccy.info/i9/16717050b9e184e3774946e713922d1f/1501588614/5097/1053805/schm_240.jpg)![](http://i.piccy.info/a3/2017-08-01-11-56/i9-11430299/240x133-r/i.gif)


**murdoch** 01-08-2017

pH метр:

![](http://i.piccy.info/i9/990c598d47658e325185e35088bf4b48/1501588791/4650/1053805/schm_240.jpg)![](http://i.piccy.info/a3/2017-08-01-11-59/i9-11430312/240x118-r/i.gif)


**Vad** 01-08-2017

> pH метр:

R1, C8 - в топку.

С7 - 10мкф

Очень странная ОС - R2, R3, R4.. - в топку

R2 - 10ком подстроечник

вместо R3, R4 - 33ком параллельно С7.


**murdoch** 01-08-2017

> R1, C8 - в топку

без резистора вход может пробить - неизвестно что снаружи придет...
> Очень странная ОС - R2, R3, R4.. - в топку

R2,R4 ограничивают диапазон установки усиления


**Vad** 01-08-2017

че там ограничивать.. и что случится если соединить вход с выходом? :D КУ получится 1 :D не взорвется..

да и.. КУ нужен 2-3 максимум 5.

да еще и с изменением КУ будет сильно меняться частота среза, а нам надо, чтоб 50 герц оказалось вне полосы пропускания.. конденсатор там же не просто так нарисовали... 

или просто так :-\

входная цепочка не спасет от "неизвестно что снаружи придет"

но внесет зависимость не только от температуры, но и от влажности..

и не вздумайте входную цепь на плате разводить... все "в воздухе"..

мне не верите - взгляните внимательно на потроха ХАНЫ..

PS

я не "из головы" все это взял... :-X


**gena1** 02-08-2017

> и не вздумайте входную цепь на плате разводить... все "в воздухе"..
> 
> мне не верите - взгляните внимательно на потроха ХАНЫ..

Моя подтвердить сильно. Китая мастер даже отгибать ножку на микросхеме и проводом по воздуху тянуть непосредственно к электроду.


**murdoch** 03-08-2017

спасибо, учту...


**murdoch** 03-09-2017

изолятор + двойной буфер для I2C:

![](http://i.piccy.info/i9/17ea4fdd7b9d43012a271b99f260af44/1504425693/6859/1171378/schm_240.jpg)![](http://i.piccy.info/a3/2017-09-03-08-01/i9-11535320/240x130-r/i.gif)

по комплектухе получилось недорого:

[https://ru.aliexpress.com/item/New-original-ADUM1251ARZ-ADUM1251-Digital-Isolator-SOP8/32810381365.html](https://ru.aliexpress.com/item/New-original-ADUM1251ARZ-ADUM1251-Digital-Isolator-SOP8/32810381365.html){:target="_blank"}

[https://ru.aliexpress.com/item/FREE-SHIPPING-PCA9517AD-PA9517A-PCA9517-SOP8-10pcs/32801746987.html](https://ru.aliexpress.com/item/FREE-SHIPPING-PCA9517AD-PA9517A-PCA9517-SOP8-10pcs/32801746987.html){:target="_blank"}

[https://ru.aliexpress.com/item/5-PCS-FB0505S-1W-SIP-4-B0505S-B0505-DUAL-SINGLE-OUTPUT-DC-DC-CONVERTER/1134700794.html](https://ru.aliexpress.com/item/5-PCS-FB0505S-1W-SIP-4-B0505S-B0505-DUAL-SINGLE-OUTPUT-DC-DC-CONVERTER/1134700794.html){:target="_blank"}


**murdoch** 12-10-2017

4-канальный I2C буфер: 2 провода по 5м + 2 по 3м на 80кбит - полет нормальный...

![](http://i.piccy.info/i9/a0b026b2b64424465e154825061afd85/1507782196/10021/1177747/schm_240.jpg)![](http://i.piccy.info/a3/2017-10-12-04-23/i9-11663236/217x240-r/i.gif)


**serge mat** 11-04-2018

> предварительная схема модуля ЕС метра с инверсией полярности и отключением электродов:
> 
> ![](http://i.piccy.info/i9/16717050b9e184e3774946e713922d1f/1501588614/5097/1053805/schm_240.jpg)![](http://i.piccy.info/a3/2017-08-01-11-56/i9-11430299/240x133-r/i.gif)

Могу я попросить описать эту схему. Не могу самостоятельно разобраться. Я понял, что мультиплексор 74НС4052 переключает питание на электродах на обратное. Но где задается частота? Операционный усилитель МСР6001 стоит в режиме повторителя. В чем его функция? 

И, самое главное, АЦП умеет обрабатывать постоянное напряжение, а мы имеем на входе импульсный сигнал. Или это уже дело программы, задали напряжение, измерили, переключили полярность, опять измерили... Тогда мы имеем частоту определяющуюся временем АЦП...


**murdoch** 11-06-2018

> Но где задается частота?

в прошивке контроллера
> В чем его функция?

увеличить входное сопротивление и в какой-то мере изолировать вход контроллера от внешней среды
> Тогда мы имеем частоту определяющуюся временем АЦП

время АЦП тут по барабану - измерение длится несколько микросекунд, а пауза между измерениями - секунды. То есть напряжение подается только на время измерения, 99.999% времени электроды отключены мультиплексором и электролиз/растворение электродов минимальный


**serge mat** 12-06-2018

Спасибо!


**Expibra** 03-05-2019

Сделал универсальный контроллер управления.

Основные характеристики:

Два верхних и два нижних ключа

Опторазвязка цепей управления

Два опторазвязанных входа управления

RS485

Двухстрочный 16 разрядный индикатор.

Возможность установки светодиодного индикатора взамен LCD

Питание 12В

раздельная разводка цифровой и силовой земли


