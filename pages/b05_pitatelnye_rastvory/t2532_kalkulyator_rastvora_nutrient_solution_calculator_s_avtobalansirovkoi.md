---
title: "Калькулятор раствора Nutrient Solution Calculator с автобалансировкой"
sidebar: ponics_sidebar
---

**FertilizerCalculator** 13-09-2016

Калькулятор раствора с автаматическим балансиром удобрений.

[Nutrient Solution Calculator.zip](http://storage.googleapis.com/wzukusers/user-23754587/documents/57d809130234bjTQvYyw/Nutrient%20Solution%20Calculator%20Flower.zip){:target="_blank"}

Для запуска может потребоваться установить Microsoft .NET Framework 4: 

[веб-установщик](http://storage.googleapis.com/wzukusers/user-23754587/documents/57cf15f5dfadd2FMbF7Y/Microsoft%20.NET%20Framework%204.exe]автономный установщик[/url] или [url=https://www.microsoft.com/ru-ru/download/details.aspx?id=17851){:target="_blank"}

Принцип работы предельно прост:

1. В левой части окна выбираете те удобрение, которые у вас есть и делаете двойной клик, тем самым добавяя их к расчету.

[![](/imagehost2/thumbs/1qfq.jpg)](https://t.me/ponics_ru_files/17821){:target="_blank"}

2. Далее щелкаете на название культуры, для которой хотите совершить расчет.

3. В окне элементвного состава раствора можете попробовать задать приоритет расчета элементов, тем самым изменив баланс удобрений в конечном растворе.

КРАСНАЯ СТРОЧКА - есть передозировка не более чем в 1,5, либо невозможно отбалансировать элемент.

КРАСНАЯ КНОПКА - Данный компонент мешает балансирове других элементов и можно изменить его значимость, тем самым позволив лучше отбалансировать другие элементы.

ЗЕЛЕНАЯ СТРОЧКА- все в пределах нормы.

[![](/imagehost2/thumbs/2zoz.jpg)](https://t.me/ponics_ru_files/17822){:target="_blank"}

4. Смотрите полученый результат в граммах на указанное вами количество литров


**Cyclamech** 13-09-2016

Правильно ли я понимаю, что этот кальк можно отнести к классу калькуляторов, которые "мешают растворы из всего подряд" (типа NPKcalc 1.27, Hydroodo, ect.)? Понятно, что сделана попытка автоматизировать "подбор навесок" по каким-либо правилам, ибо результаты работы "автоматики" Hydroodo оставляют желать лучшего… *crazy*


**FertilizerCalculator** 13-09-2016

> Правильно ли я понимаю, что этот кальк можно отнести к классу калькуляторов, которые "мешают растворы из всего подряд" (типа NPKcalc 1.27, Hydroodo, ect.)? Понятно, что сделана попытка автоматизировать "подбор навесок" по каким-либо правилам, ибо результаты работы "автоматики" Hydroodo оставляют желать лучшего… *crazy*

А вы попробуйте, я думаю результат вас приятно удивит )). 

Собственно для этого и писалась эта программа, потаму что все остальные не давали достаточно хорошего результата.


**Cyclamech** 13-09-2016

> А вы попробуйте, я думаю результат вас приятно удивит )).

Ммм… А Вы лично выращиваете растения?


**Gamelander** 13-09-2016

Нет расчета по аммиачке, в элементах вместо NH4 стоит NO4, соответственно аммиачная селитра не считается, не считается процент аммонийного азота от общего, а надо.

В целом неплохо, удобно. Только пока не считает как нужно.


**FertilizerCalculator** 18-09-2016

Новая версия

[Скачать Nutrient Solution Calculator v1.0.2.41272](http://storage.googleapis.com/wzukusers/user-23754587/documents/57deddc57ff08wmfNTvw/NSCv1.0.2.41272.zip){:target="_blank"}

Исправлены коэфициенты соединений на более точные, добавлен расчет по разным формам азота, добавлена возможность переименования веществ и соединений, а так же мелкие правки.


**FertilizerCalculator** 24-09-2016

Новая версия.

Импортирована база удобрений Hydrodo, а также несколько незначительных оптимизаций.

[Nutrient Solution Calculator 1.0.3.33476](http://storage.googleapis.com/wzukusers/user-23754587/documents/57e68274a6a02oYQFshw/NSCv1.0.3.33476.zip){:target="_blank"}


**siv237** 25-09-2016

Жаль в wine и в mono не работает.


**FertilizerCalculator** 17-10-2016

1.0.4 - [База удобрений] исправлены баги в составах импортированных удобрений из Hydrodo.

[NSCv1.0.4](https://www.dropbox.com/s/5xkpfxhaglfxq7j/NSCv1.0.4.zip?dl=1){:target="_blank"}


**FertilizerCalculator** 17-10-2016

> Жаль в wine и в mono не работает.

Согласен, но покачто поддержа Linux систем не предвидиться. Мягкотелые вроде делают попытки переноса их NET платформы на Linux системы, однако покачто все это рабодает достаточно криво.


**FertilizerCalculator** 29-10-2016

Новая версия [Nutrient Solution Calculator 1.0.5](https://www.dropbox.com/s/r1107ygzqoxa4bm/NSCv1.0.5.zip?dl=1){:target="_blank"}

Добавлен режим ручного управления весами удобрения, а так же возможность полностью ручного режима работы по типу (NPKCaMg)


**FertilizerCalculator** 29-10-2016

Есть смысл дальше выкладывать новые версии? Есть тут кто живой?


**cpf** 29-10-2016

> Есть смысл дальше выкладывать новые версии? Есть тут кто живой?

Сейчас - не сезон (калькулировать нечего :D)


**orgail** 29-10-2016

выкладывайте, конечно!

тут больше читателей пока, чем писателей..


**Gamelander** 29-10-2016

Да, ваш калькулятор несомненно представляет интерес. Последняя выложенная версия уже достаточно работоспособна, видны доделки с прошлых релизов.

Тормозит, правда, жутко, когда список удобрений листаешь.


**Cyclamech** 29-10-2016

Больше кальков, всяких и разных! *crazy*


**FertilizerCalculator** 29-10-2016

> Да, ваш калькулятор несомненно представляет интерес. Последняя выложенная версия уже достаточно работоспособна, видны доделки с прошлых релизов.
> 
> Тормозит, правда, жутко, когда список удобрений листаешь.

Поправил этот баг.

1.0.6 - HOTFIX Устранены лаги интерфейса при промотке листа основной базы удобрений [спс Forthewin]

[Скачать Nutrient Solution Calculator 1.0.6](https://www.dropbox.com/s/hx9i910sfdgnimi/NSCv1.0.6.rar?dl=1){:target="_blank"}


**Gamelander** 30-10-2016

А, вот еще, самое главное.

Ваш калькулятор не дает забить Целевой раствор со значением количества элемента более 1000 миллиграмм/литр. И обязательно округляет до целых грамм количество в грамм/литр. То есть получить значение 1.3 гр/литр или 1300 мг/литр я не могу ни в каком случае. Это специально так сделано? 

Я Вам скажу, что это КРАЙНЕ плохо. Из-за этого я в тесте считал кое-что, начинал на дефлораторе, продолжал на NPKcalculator. А перед этим количество нужного NH4 в своем экселевском файлике.


**Gamelander** 30-10-2016

И еще. Нельзя ли сделать экспорт результатов расчета? В txt какой-нибудь, например.


**FertilizerCalculator** 04-11-2016

Новая версия. 1.0.7 - Исправлен баг не позволяющий делать целевой раствор с концентрацией элементов более 1000 миллиграмм/литр, добавлена возможность экспорта результата расчета в текст [спс Forthewin]. А так же подсказка о составе удобрений [спс freewind].

[NSCv1.0.7.zip](https://www.dropbox.com/s/cnrlol5i4th57xs/NSCv1.0.7.zip?dl=1){:target="_blank"}


**Gamelander** 04-11-2016

Проверил на гарантированно правильных расчетах - считает верно. Спасибо, отличная работа!


**ihands** 06-11-2016

Отловленный баг :-[:

При экспорте в буфер для форумов не учитывается количество литров, на которые произведен расчет раствора, всегда пишет "Используемые удобрения на 1л воды", при этом навески солей соответствуют другому литражу, который выбрал пользователь в калькуляторе.


**FertilizerCalculator** 10-11-2016

Новая версия [Nutrient Solution Calculator 1.1.4](https://www.dropbox.com/s/bd94dmy7af9pvrx/NSCv1.1.4.zip?dl=1){:target="_blank"}

[BUGFIX] При экспорте в тект и на форум, неправильно указывался целевой объем раствора (спс ihands). При ручном режиме расчета кнопки приоритета теперь не активны. При полностью ручном режиме расчета, нельзя было сменить целевой раствор.

[NEW] Добавлена возможность отображать элементы не учавствующие в расчете. Добавлены несколько новых растворов.


**FertilizerCalculator** 22-11-2016

Новая версия [Nutrient Solution Calculator 1.1.5](https://www.dropbox.com/s/npqwztp8xwuujcx/NSCv1.1.5.zip?dl=1){:target="_blank"}

[Added]

Реализована проверка наличия базы удобрений и ее корректность при запуске приложения.

Добавлены новые растворы.

Реализованна проверка наличия новой версии ПО и автоматическое обновление (Можно отключить в настройках).

[Fixed]

В текст сохранялись удобрения с нулевым расчетным весом.

При полностью ручном расчете не отображались элементы с нулевым весом.

[Changed]

Проверка правильности вводимых даных в контролы веса.


**Cyclamech** 03-12-2016

Кривая логика:

[![](/imagehost2/thumbs/234.png)](https://t.me/ponics_ru_files/17823){:target="_blank"}

и неверные данные в базе удобрений. Пока низачот. *???*

Размышляем дальше:

[![](/imagehost2/thumbs/235.png)](https://t.me/ponics_ru_files/17824){:target="_blank"}

если, конечно, действительно программист… *crazy*

"Donate" пока вообще лучше убрать, ибо на данном этапе хочется минуснуть кошелёк автора на самом деле. *crazy*


**Cyclamech** 03-12-2016

> …можете попробовать задать…

Ммм… Вы правда надеетесь, что безумный пользователь сделает это лучше умной машины?

А зачем тогда "калькуляторы" вообще?


**Gamelander** 03-12-2016

Все рецепты, что я считал на этом калькуляторе, сходятся с большой точностью с ручными расчетами, если не доводить до абсурда и надписи "Невозможно сбалансировать", используя всего одно удобрение.

Чисто для плезира хотелось бы, чтобы единицей добавления навески в ручном режиме была не 0,1 грамма, а 0,01 грамма.

Автору спасибо.


**Cyclamech** 03-12-2016

"Я проверил на счётах" :-* *crazy*


**Cyclamech** 03-12-2016

> …если не доводить до абсурда…используя всего одно удобрение.

Это не абсурд, а стандартный "предельный" тест.

"Молотилке", видимо, пофиг, сколько там компонентов - все они "считаются" по одинаковому принципу. Задав один компонент - мы пытаемся увидеть принцип. Вам просто везёт в Ваших проверках, ибо Вы, видимо, используете достойный набор компонентов, который позволяет реализовать весьма широкое поле профилей (по крайней мере, он легко реализует все те профили, которые Вы "попробовали"). "Молотилка" на самом деле по неверному принципу отвешивает Вам такой вариант, который Вам лишь кажется похожим на верный. *Bos* :-*


**FertilizerCalculator** 03-12-2016

> "Donate" пока вообще лучше убрать, ибо на данном этапе хочется минуснуть кошелёк автора на самом деле. *crazy*

Если вам станет от этого легче то на кошелек пришло примерно 0,3$ пожертвований. Что на самом деле достаточно грустно, я думал гроверы оценят труды коллеги. *???*

Однако программа всетаки и писалась изначально как бесплатная, с возможностью отблагодарить автора по желанию, поэтому я сильно не переживаю на счет доната, для меня он стал неким показателем нужности вложений своих сил в бесплатный софт. :D

Если вам был интересен алгоритм могли бы просто спросить. Алгоритмы балансировки лежат в области задач нахождения экстремумов целевой функции в конечном векторном простаранстве.

Я всегда рад конструктивной критике но пытаться оптимизировать единственную переменную в уравнении это как умножать 2*2 и хотеть что бы получилось 10. Рано или поздно вы и сами придете к этому выводу. 


**Cyclamech** 03-12-2016

> …но пытаться оптимизировать единственную переменную в уравнении это как…

Нет, не так. Немножко сложнее. *???*

Здесь думанья мало, тут нужно подключать мышление.


**Cyclamech** 03-12-2016

Но мне нравится, что Вы начали "ответ" именно с кошелька.

Значит, всё остальное удачно растворилось…


**FertilizerCalculator** 04-12-2016

Народ есть тут среди вас химики? Надо расписать алгоритм нахождения водородного показателя раствора. 

Насколько я понял из букварей, что бы вычислить PH нужно знать количественное значение дисассоциированных молекул водорода в жидкости. И все бы ничего, но есть одно но. На большенстве удобрений указывается лишь компоненты, а не полное название солей их сожержащих (исключение составляют NH4 и NO3 их иногда указывают). Например в составе кислоты H2SO4 = 2H[1+] + SO4[2-]. Однако сера может быть и в составе другого соединения например соль этой кислоты CaSO4 = Ca[2+] + SO4[2- ].

Вот и получатся что сера в составе одного вещества будет изменять баланс PH, а в составе другого вещества не будет менять баланс PH. 

С другой стороны наибольшее движение PH вызывает имменно баланс аммонитов к нитратам, т.к. растение ест их неравномерно и возможно стоит придерживать баланс именно аммонитов к нитратам, т.к. отавльные компоненты в количественном отношении к ним пренебрежительно малы и не могут сколько либо сильно повлиять на водородный баланс. В любом случае мировая индустрия придерживается мнения что PH нужно поддерживать либо добавлением сьеденых элементов либо путем добавления буфферных растворов, достать которые у нас не так то просто. 

Так что чисто теоретически можно вывереть режим кормления при котором можно будет добавлять по больше части азот в нужной форме что NH4 / NO3 а он в свою очередь будет править PH до необходимого уровня, но это лишь предположение требующее тестов в реальных условиях.


**Gamelander** 04-12-2016

Вычисление рН вряд ли необходимо при расчете раствора. 

Процент азота в аммонийной форме должен быть изначально 6-7% от общего, уже многократно проверено. Лично я склоняюсь всегда к 7%. 

Здорово было бы, если бы в калькуляторе можно было опционально задавать не строгое количество нитратной и аммонийной формы, а общий азот и процент аммония, чтобы кальк сам раскадывал на NO3 и NH4, а то это соотношение приходится считать в отдельном файлике. Ну это так, необязательно.

Гораздо важнее и нужнее, если калькулятор будет показывать ЕС рассчитанного раствора (без учета воды, конечно). У Cyclamech в экселевском "Дефлораторе" это очень неплохо вышло.

И, пожалуйста, в следующем билде обратите внимание на просьбу "... хотелось бы, чтобы единицей добавления навески в ручном режиме была не 0,1 грамма, а 0,01 грамма." Это при добавлении путем "стрелочка вверх-вниз кликом мышкой".

Спасибо.


**Cyclamech** 04-12-2016

> И, пожалуйста, в следующем билде обратите внимание на просьбу "... хотелось бы, чтобы единицей добавления навески в ручном режиме была не 0,1 грамма, а 0,01 грамма." Это при добавлении путем "стрелочка вверх-вниз кликом мышкой".
> 
> Спасибо.

Да и вообще хотелось бы динамические ("умные") шаги спиннеров иметь… :D


**Cyclamech** 04-12-2016

> Здорово было бы, если бы в калькуляторе можно было…

Здорово было бы, если бы можно было бы создавать и/или редактировать профили в удобных представлениях и специальном интерфейсе, манипулируя при желании этими "удобными представлениями".

Сегодня Вы хотите процент аммонийной формы задавать, а завтра захотите задавать ещё и ЕС и соотношения элементов. А потом ещё захотите и проверять свежесозданный профиль на сбалансированность. Пройдено ведь уже. *crazy*


**Cyclamech** 04-12-2016

> Да и вообще хотелось бы динамические ("умные") шаги спиннеров иметь… :D

Что здесь можно предложить из самого простого?

Во-первых, подумать, чем отвешивает навески пользователь? На десятку литров он может хотеть (иметь возможность) отвешивать на электронных весах с точностью до 0,01 грамма (потому, вероятно, пользователь и просит изменить шаг спиннера на такой), а в некоторых случаях - до 0,001 грамма. Отсюда следует, что есть некий оптимальный шаг, который можно выбрать за дефолтный. В пределе - позволить пользователю задавать это дефолтное значение в конфиге.

Во-вторых, добавить "динамики": при отвешивании навесок, например, на 100 литров раствора может захотеться иной точности (иного шага спиннера). Стоит попробовать его изменять пропорционально количеству литров раствора, не? *???*


**Cyclamech** 05-12-2016

Я тестирую свои алгоритмы оптимизации, потому интересно сравнить.

Мы "усложнили" задачу: теперь тестируются 2 компонента, имитируя реальность. Это кристалон + кальцинит.

Задали произвольный профиль, задали процентовки коричневого кристалона и кальцинита. Запускаем:

[![](/imagehost2/thumbs/236.png)](https://t.me/ponics_ru_files/17825){:target="_blank"}

Кальк предложил дефолтный вариант, который не подходит сразу: он "дознёт" наши растения. *crazy* Т.е., не стоило и предлагать, тем более по дефолту.

Попробуем запретить превышение по калию?

[![](/imagehost2/thumbs/237.png)](https://t.me/ponics_ru_files/17826){:target="_blank"}

Вроде как лучше, но почему-то кальк постеснялся добавить ещё кальцинита. *???*

А вот так у меня получилось ручками подобрать:

[![](/imagehost2/thumbs/238.png)](https://t.me/ponics_ru_files/17827){:target="_blank"}

Не кажется ли вам, что пока мои "наколенные счёты" выигрывают у "умной машины"? *crazy*


**FertilizerCalculator** 06-12-2016

> А вот так у меня получилось ручками подобрать:
> 
> [![](/imagehost2/thumbs/238.png)](https://t.me/ponics_ru_files/17828){:target="_blank"}
> 
> Не кажется ли вам, что пока мои "наколенные счёты" выигрывают у "умной машины"? *crazy*

У меня получилось так в авто режиме:

[![](/imagehost2/thumbs/yyy.png)](https://t.me/ponics_ru_files/17829){:target="_blank"}

Ограничил передозировку по калию нажав "Запретить повышеную дозировку", а Ca сделал обязательным в расчете нажав кнопочку. "Сделать обязательным компонентом"


**Cyclamech** 06-12-2016

Крутые бирюльки, чо! Только смысл? :D

Вопрос мой был в том, почему "хитроумный оптимизатор" предлагает оптимальный вариант только на 3-м шаге при условии, что пользователь угадает эти шаги. Я бы хотел получать оптимальный ответ сразу, к чему мне этот не вполне осознанный перебор вариантов осуществлять?

…

Получаем тот же Hydroodo, вид сбоку. *???*


**siv237** 06-12-2016

> Крутые бирюльки, чо! Только смысл? :D
> 
> Вопрос мой был в том, почему "хитроумный оптимизатор" предлагает оптимальный вариант только на 3-м шаге при условии, что пользователь угадает эти шаги. Я бы хотел получать оптимальный ответ сразу, к чему мне этот не вполне осознанный перебор вариантов осуществлять?
> 
> …
> 
> Получаем тот же Hydroodo, вид сбоку. *???*

Иллюзия причастности к результату. Типа полуавтомат.


**Cyclamech** 06-12-2016

> Иллюзия причастности к результату. Типа полуавтомат.

Ммм… Сперва хотелось бы полного автомата (для широкого круга пользователей, 99%), а потом "энтузиастам" уже можно и "типтроник" предлагать… :D


**FertilizerCalculator** 06-12-2016

> Крутые бирюльки, чо! Только смысл? :D
> 
> Вопрос мой был в том, почему "хитроумный оптимизатор" предлагает оптимальный вариант только на 3-м шаге при условии, что пользователь угадает эти шаги. Я бы хотел получать оптимальный ответ сразу, к чему мне этот не вполне осознанный перебор вариантов осуществлять?
> 
> …
> 
> Получаем тот же Hydroodo, вид сбоку. *???*

Можно найти оптимальное соотношение когда у вас не 2 удобрения скажем 7 и на все про все у вас уйдет за 3 щелчка мышкой. 

Hydroodo считал оптимальный состав методом перебора вариантов из за чего у него был огрничено количество удобрений которые он мог одновременно оптимизировать (если не ошибаюсь что то около 7 или 10).

Мой софт оптимизирует абсолютно любое количество удобрений с точностью до миллионных долей всего за пару кликов.

Возможность ручного выбора приоритета компонетов оставлена намеренно для того чтобы можно было намеренно разрешить передоз по некоторым микроэлементам. 

А самое главное что калькулятором удобно пользоваться мне ;).


**Cyclamech** 06-12-2016

> А самое главное что калькулятором удобно пользоваться мне ;).

Да, мне тоже так сказали, что калькуляторостроители пишут кальки для себя. *crazy*

Калькуляторе на 20-м мне всё-таки захотелось сделать "для людей".


**Cyclamech** 06-12-2016

> Можно найти оптимальное соотношение когда у вас не 2 удобрения скажем 7 и на все про все у вас уйдет за 3 щелчка мышкой.

Разработанный нами оптимизатор выдаёт оптимальное решение сразу при произвольном количестве компонентов… Без участия пользователя… *???*

Впрочем, так же делает и решатель в экселе:

[![](/imagehost2/thumbs/239.png)](https://t.me/ponics_ru_files/17829){:target="_blank"}

*Bos* *???*


**Cyclamech** 06-12-2016

> Мой софт оптимизирует абсолютно любое количество удобрений с точностью до миллионных долей всего за пару кликов.

Я не заметил этой радости: Ваши "пару кликов" для пользователя оборачиваются квестом на самом деле. Избавьте от этого квеста - и жизнь станет проще.


**Cyclamech** 06-12-2016

> А самое главное что калькулятором удобно пользоваться мне ;).

А разве Вы умеете выращивать растения? :-\


**Gamelander** 11-12-2016

В редакторе базы невозможно добавить удобрение, элементы и соединения в котором выражены в граммах/литр или мг/литр, добавляются в любом случае только %, калькулятор сам преобразовывает в % вернее.


**Cyclamech** 12-12-2016

> В редакторе базы невозможно добавить удобрение, элементы и соединения в котором выражены в граммах/литр или мг/литр, добавляются в любом случае только %, калькулятор сам преобразовывает в % вернее.

Удобрения характеризуются только процентовками.


**Cyclamech** 14-12-2016

Вот вам, видимо, и конструктивная критика - аффтара уже неделю не видать чойта. *???* :D

Не подумайте плохого…


**siv237** 14-12-2016

> Вот вам, видимо, и конструктивная критика - аффтара уже неделю не видать чойта. *???* :D
> 
> Не подумайте плохого…

Ну тут как бы критика от конкурента, который точно не будет использовать решение.

Нормальный процесс, у каждого свои идеи и принципы. Я бы тоже покритиковал бы кальк или похвалил, но запускать винду каждый раз лень а в вайне оно не пашет :(

Хотя моя критика будет еще менее продуктивна ибо я предпочитаю использовать собственный кальк который даже не кальк, а просто проверочная таблица в экселе и все навески я люблю подбирать ручками и смотреть на результат.

Так что по сути от реальных пользователей то особо фидбека и нету тут, вот автор и не парится да и делает для себя. А то, что выкладывает и бесплатно, достойно только похвалы. Сколько людей способны создать в этом мире хоть что-то полезное? А сколько из них готовы отдать это безвозмездно всем желающим?

Так, что давайте проявлять терпимость и уважение к таким людям, как говорится художника обидеть может каждый.


**FertilizerCalculator** 18-12-2016

[Скачать NSCalc v1.1.6](https://www.dropbox.com/s/frqy9glzw75ips6/NSCv1.1.6.zip?dl=1){:target="_blank"}

[Added]

Добавлена возможность изменять значение шага веса, при ручном подборе веса удобрения. [спс Forthewin]

[Fixed]

Удобрения с нулевым рассчитанным весом теперь не экспортируются в TXT и на форум.

Более точное отображение размера передорзировки.

[Changed]

Уменьшен рамер инкремента ручного ввода веса удобрения по умолчанию.


**Cyclamech** 18-12-2016

Приятно быть понятым. :)

Как дела с алгоритмом подбора?


**FertilizerCalculator** 18-12-2016

> В редакторе базы невозможно добавить удобрение, элементы и соединения в котором выражены в граммах/литр или мг/литр, добавляются в любом случае только %, калькулятор сам преобразовывает в % вернее.

Солидарен с Cyclamech, состав удобрения в основном указываются в процентовке. 

Я видел случаи когда это было не так, однако попадаются такие ооочень редко.

В общем случае всегда можно перевести граммы/миллиграмм в проценты. Если что то подобное попадется пишите, переведу в проценты. Поставлю эту задачу в todo лист, возможно когда то реализую перевод [вес в %] в коде.


**Cyclamech** 18-12-2016

> В общем случае всегда можно перевести граммы/миллиграмм в проценты. Если что то подобное попадется пишите, переведу в проценты. Поставлю эту задачу в todo лист, возможно когда то реализую перевод [вес в %] в коде.

Это, ИМХО, лишнее: граммы и миллиграммы заданы на литр, т.е., это тысячные доли литра. Промилле, если "по науке". Передвигая "в уме" десятичную запятую на разряд влево(?), мы получим проценты, ибо 10 промилле - 1 процент.


**Gamelander** 18-12-2016

> > В редакторе базы невозможно добавить удобрение, элементы и соединения в котором выражены в граммах/литр или мг/литр, добавляются в любом случае только %, калькулятор сам преобразовывает в % вернее.
> 
> 
> 
> Солидарен с Cyclamech, состав удобрения в основном указываются в процентовке. 
> 
> Я видел случаи когда это было не так, однако попадаются такие ооочень редко.
> 
> В общем случае всегда можно перевести граммы/миллиграмм в проценты. Если что то подобное попадется пишите, переведу в проценты. Поставлю эту задачу в todo лист, возможно когда то реализую перевод [вес в %] в коде.

Не надо в туду, кальк и так сам правильно переводит в проценты при указании г/л.


**Gamelander** 18-12-2016

Верно ли я понимаю, что в принципе достаточно EXE новый закинуть их сборки и калькулятор с имеющейся базой будет нормально работать?

Если нет, то каковы пути обновления на новую версию с сохранением всего, что добавлено?


**FertilizerCalculator** 18-12-2016

[Скачать NSCalc v1.1.7](https://www.dropbox.com/s/ndec6l258gvvxh3/NSCv1.1.7.zip?dl=1){:target="_blank"}

Нашел багу приводящую к падению проги в некоторых случаях, пришлось новый билд сделать.


**FertilizerCalculator** 18-12-2016

> Не надо в туду, кальк и так сам правильно переводит в проценты при указании г/л.

 Кстати да, полез смотреть оказалось что уже реализовано ))


**FertilizerCalculator** 18-12-2016

> Верно ли я понимаю, что в принципе достаточно EXE новый закинуть их сборки и калькулятор с имеющейся базой будет нормально работать?
> 
> Если нет, то каковы пути обновления на новую версию с сохранением всего, что добавлено?

 Верно. Файл с базой - FertilizerDatabase.db. Его закидываете в папку с новой версией и все. Либо пользуетесь автоабновлением.


**vladindre** 27-02-2017

Уважаемый , FertilizerCalculator. Посмотрел Ваш калькулятор NSC 1.1.7. Удобрение Акварин хвойный без азота. Пытался отредактировать - заводил N и процент -3%. Отказывается добавлять. Это правильно или как ?

Интересно , что в предыдущих версиях этот Акварин редактируется , а в последнем что-то не хочет. Но хотелось бы поиграться с самой последней более продвинутой версией.

И еще -выводит микроэлементы в составе смеси как несуществующие(серый цвет) хотя Акварин с добавками микроэлементов. Или я что-то не понимаю


**vladindre** 27-02-2017

Разобрался таки с занесением данных. Надо было дважды нажимать кнопку добавить/изменить.

Но вот новая непонятность. В колонке " рассчитано " калькулятор не суммирует аммиачную и нитратную составляющие. На вид вроде как правильно считает , но не суммирует. Может это какой мелкий программный косяк ? Причем так получается и в автоматическом и в ручном режиме.

Экран не прикрепляется " Папка upload заполнена. Попробуйте файл меньшего размера или свяжитесь с Администратором."


**Cyclamech** 27-02-2017

> Экран не прикрепляется " Папка upload заполнена. Попробуйте файл меньшего размера или свяжитесь с Администратором."

[![](/imagehost2/thumbs/324.png)](https://t.me/ponics_ru_files/17830){:target="_blank"}

Местная "фича". *crazy*


**vladindre** 27-02-2017

Спасибо , Cyclamech. 

[![](/imagehost2/thumbs/1rwr.jpg)](https://t.me/ponics_ru_files/17831){:target="_blank"}


**Cyclamech** 27-02-2017

Не думаю, что нам с Вами стоит разбирать здесь все косяки этой поделки… *???* Ведь Вы используете ручной подбор, а автор озвучивал свою цель выше.

Вам лучше понять мои замечания к Вашему рецепту. Фантастический калькулятор мог бы сам Вам выразить эти претензии.

Понимаете ли, любое комплексное удобрение - это реализация какого-либо конкретного профиля, набора профилей или, скажем проще, реализация конкретной идеи по питанию. Если грубо - то хвойный акварин - для отращивания хвои. *crazy*

Нам же наделали калькуляторов, которые якобы позволяют из хвои помидоры получать. :-\ Ну отчасти это правдиво. *crazy*

Я вижу по набору ингредиентов, что Вы выбрали двухкомпонентную схему, подразумевающую смешивание комплекса с кальциевой селитрой. Вы, вероятно, слышали (или узнали на практике), что комплексы частенько содержат недостаток магния, потому Вы решили поднимать магний дополнительно - магниевым корректором (сульфат магния, действительно, хорош в этой роли). Нормально. Только вопрос, почему Вы сразу не включили в комплект своих ингредиентов и корректор аммония, например, аммиачную селитру или сульфат аммония?

Про магний в комплексах Вы знаете, а почему не знаете про фосфор? Его обычно обратно магнию - слишком много. Потому, при тупых автоматах в кальках, комплекс просто упирается в уровень фосфора - и стоп навеска. Не бойтесь его превысить - 0,7 г/л маловато для комплекса: он дал Вам мизер микроэлементов, дал мало азота, не дал нужного количества калия и т.д. Зато Вы кальциевой селитры набухали от души! Вот её лучше насыпать ровно по уровень кальция, а остальное - досыпать комплексом, потом магний подровнять.


**vladindre** 28-02-2017

Уважаемый , Cyclamech. Благодарю за анализ моего состава. Выбор хвойного обоснован его составом 3 11 35.

Это традиционная популярная основа для " добития его " до нужного раствора. Обычно используют Valagro Master 3 11 35(38)+Mg. Но у нас валагро не водится , а зато Акварина полно. Не вижу ничего страшного в использовании Акварина. Главное ведь состав , А то что назвали хвойный это обычные маркетинговые штучки. Надо ведь сбывать товар вот и наизобретают всяких названий -- для фиалок , картохи , овощей , земляничный , для перца и так до бесконечности. Эти названия для обывателей , которым неинтересно и неохота разбираться со всей этой кухней. " Просто добавь воды ". Главное ведь состав. Вы же это прекрасно знаете.

Насчет аммиачки неверно. У меня правда не Буйская селитра , а Фертика. Но состав почти как Буйская гранулированная (14,2 NO3+0,7NH4)/. У Фертика 14,5+1. Так что с аммиачной составляющей дело обстоит неплохо. Тем более Вы же видели в составе 13,8 мг/л аммиачки . 

Раньше я пользовался Агриколой по причине лени. Но у него ужасный недобор по существенным элементам. Главный -- это отсутствие кальция как у всех комлексных , а это уже полный out. Нет железа. Выращивать при таких дефицитах абсурдно. 

Я проращиваю в торфе и надеюсь как бы , что он что-то даст. Но в торфе изначально нет кальция и много чего другого. Так как все перевожу на гидропонику , то пришлось пересилить лень и затарится почти всем необходимым . Месить из чистых солей весь состав пока не готов морально( но со временем к нему и приду). Пока попользуюсь промежуточным вариантом Полагаю вариант комплексное + добавки нужные тоже неплохой вариант. И по случаю вопрос.

Поскольку кальциевая селитра страшно гигроскопична , то вариант хранения только один -- в растворе. Вопрос в концентрации -- как максимально утрамбовать ее в воду ? Пока планирую в емкости 5л растворить 0,5кг селитры( типа 1:10 ). А можно ли туда загнать весь 1 кг(пакет) , чтобы поменьше плодить емкостей , а то у меня уже бардак как в химлаборатории -- бутылки , банки , коробки. Ужос.

Думаю можно , так как это ведь не смешивание готового раствора . Это в готовом при неправильном приготовлении могут быть осадки из кальция и еще чего-нибудь. А чистые вещества можно намесить до предела растворимости и разумеется с учетом возможных понижений температуры хранения. Интересно каков срок хранения таких суперконцентратов чистых веществ. 

И забыл -- тогда уж сразу вопрос по микроэлементам. При использовании комплексного не удается догнать почти по всем микроэлементам и особенно по железу . Получается в районе 0,4мг/л. Если добить железо Аквамиксом , то не будет ли сильный передоз по другим , особенно по бору. Хелата железа у меня нет. А приготовить его пока не сподобился . В продаже тоже не видать. Потом думаю сам замесить , но пока нет.

Вообще мне больше всего нравится Hydroodo , а кальк NSC попробовал из любопытства. Посмотреть на что способно очередное творение людей. Испытывал Ваши калькуляторы , но толком ничего не понял.

Варианты меняются как в калейдоскопе. Да и откровенно говоря не сильно дружен я с Excel и с его невразумительным языком программирования несмотря на мой долгий и многолетний опыт программирования в других областях (контроллеры , панели , Matlab и прочие специализированные штучки). 


**siv237** 28-02-2017

> Поскольку кальциевая селитра страшно гигроскопична , то вариант хранения только один -- в растворе. Вопрос в концентрации -- как максимально утрамбовать ее в воду ? Пока планирую в емкости 5л растворить 0,5кг селитры( типа 1:10 ). А можно ли туда загнать весь 1 кг(пакет) , чтобы поменьше плодить емкостей , а то у меня уже бардак как в химлаборатории -- бутылки , банки , коробки. Ужос.

Вот недавно растворял соли стараясь быть близким к пределам растворения для 10 градусов цельсия. Таблица результатов:

[![](/imagehost2/thumbs/20170227200728.png)](https://t.me/ponics_ru_files/17832){:target="_blank"}

Если температура раствора упадет ниже 10 градусов, то начнется перекристаллизация, потому хранить в тепле.

Метод растворения такой, берем пачку соли, взвешиваем, высыпаем в канистру, взвешиваем пакетик. Определяем сколько точно насыпали соли. Вливаем расчетное колличество воды. Кидаем в канистру помпу, а саму канистру в тазик с горячей водой. Включаем помпу. Минут через 10 полное растворение без трудозатрат.

Выливаем все это дело по бутылкам. Замеряем точный вес полученного раствора ровно по метке объема. Например полтора литра раствора весит Х грамм, а аналогичный вес чистой воды 1500 грамм. Получаем делим Х/1500 и получаем коэффициент веса или плотность относительно воды. Дальше взвешиваем ваши емкости (не забудте отнять вес тары) и зная коэффициент веса легко получаем объем в миллилитрах. Зная объем в мл и вес насыпанного удобрения определяем главный параметр, граммы на литр.

Теперь зная этот параметр можно любой рецепт отмерять шприцом в мл. или используя коэффициент веса отмерять раствор соли простыми весами.


**vladindre** 28-02-2017

Благодарю , siv237. Именно так я и собираюсь делать - с учетом всех весов и объемов на случай разных способов дозирования исходных веществ. Или по объему или по весу. Люди разбиты на два лагеря - " объемщики " и " весовщики ". Я обычно на весах взвешивал. Но теперь при наличии концентратов посмотрю , что будет удобней - шприц или весы. :(


**Cyclamech** 28-02-2017

> Люди разбиты на два лагеря - " объемщики " и " весовщики ". Я обычно на весах взвешивал. Но теперь при наличии концентратов посмотрю , что будет удобней - шприц или весы. :(

Я давно предложил основу для объединения "лагерей": на выходе всех расчётов у siv237 должны получиться процентовки монораствора. Зная плотность, эти процентовки можно представить весовыми и объёмными. Теперь можно просто занести монораствор в любой калькулятор как удобрение и использовать его идентично остальным. Если занести весовые процентовки, то кальки будут считать в граммах, а если объёмные - то в миллилитрах.


**Cyclamech** 28-02-2017

> Насчет аммиачки неверно. У меня правда не Буйская селитра , а Фертика.

Я смотрю на скриншот, а не Вам в шкаф… *???*

> Так что с аммиачной составляющей дело обстоит неплохо. Тем более Вы же видели в составе 13,8 мг/л аммиачки .

Я видел и даже попытался Вам объяснить, но, видимо, есть какая-то проблема.

Вы использовали кальциевую селитру как основной (и единственный) источник аммония, что неверно: кальциевая селитра - это основной источник кальция и нитрата, аммоний там просто "примешан" (ведь разговор идёт о гранулированной кальциевой селитре, в которую добавляется аммиачная селитра для повышения потребительских свойств). Вы же извратили принцип, при этом нагло превысили уровень кальция, а ведь его уровень очень важен!


**siv237** 28-02-2017

Вот универсальная проверка раствора на пригодность, выведенная мной статистически.

K/Mg &lt; 10 ед.

1&lt;K/Ca&lt;2

N/Ca &lt;1,5

K/Ca &gt;= N/Ca

Возможно она и не аксиома, но точно в неё входят большинство профилей питания вызывающих мое доверие. Проверьте свой профиль по ним.


**Cyclamech** 28-02-2017

> Возможно она и не аксиома, но точно в неё входят большинство профилей питания вызывающих мое доверие. Проверьте свой профиль по ним.

Смысл? Профиль указан на скриншоте - перечный с поникс.ру


**vladindre** 28-02-2017

> > Насчет аммиачки неверно. У меня правда не Буйская селитра , а Фертика.
> 
> 
> 
> Я смотрю на скриншот, а не Вам в шкаф… *???*
> 
> 
> > Так что с аммиачной составляющей дело обстоит неплохо. Тем более Вы же видели в составе 13,8 мг/л аммиачки .
> 
> 
> 
> Я видел и даже попытался Вам объяснить, но, видимо, есть какая-то проблема.
> 
> Вы использовали кальциевую селитру как основной (и единственный) источник аммония, что неверно: кальциевая селитра - это основной источник кальция и нитрата, аммоний там просто "примешан" (ведь разговор идёт о гранулированной кальциевой селитре, в которую добавляется аммиачная селитра для повышения потребительских свойств). Вы же извратили принцип, при этом нагло превысили уровень кальция, а ведь его уровень очень важен!

Ну что ж. Наверное добавлю в состав нитрат аммония.


**Cyclamech** 28-02-2017

> Я давно предложил основу для объединения "лагерей": на выходе всех расчётов у siv237 должны получиться процентовки монораствора. Зная плотность, эти процентовки можно представить весовыми и объёмными. Теперь можно просто занести монораствор в любой калькулятор как удобрение и использовать его идентично остальным. Если занести весовые процентовки, то кальки будут считать в граммах, а если объёмные - то в миллилитрах.

Нужен простой калькулятор, вычисляющий процентовки монорастворов, и таблица растворимости.

Далее заносим, например, в гидроодо и пользуем как рядовой компонент:

[![](/imagehost2/thumbs/321mem.png)](https://t.me/ponics_ru_files/17833){:target="_blank"}


**Cyclamech** 28-02-2017

Впрочем, и здесь лишнее. Достаточно простых счёт:

[![](/imagehost2/thumbs/322ooo.png)](https://t.me/ponics_ru_files/17834){:target="_blank"}

*crazy*


**FertilizerCalculator** 28-02-2017

> Разобрался таки с занесением данных. Надо было дважды нажимать кнопку добавить/изменить.
> 
> Но вот новая непонятность. В колонке " рассчитано " калькулятор не суммирует аммиачную и нитратную составляющие. На вид вроде как правильно считает , но не суммирует. Может это какой мелкий программный косяк ? Причем так получается и в автоматическом и в ручном режиме.
> 
> Экран не прикрепляется " Папка upload заполнена. Попробуйте файл меньшего размера или свяжитесь с Администратором."

Азот действительно не суммируется, это не глюк.

Если вносите азот в удобрение по формам, то обязательно нужно внести и суммарный азот, попробую в будущих версиях что то с этим сделать, но пока только так.


**vladindre** 01-03-2017

Теперь понятно. Это не очень страшный просчет.


**Gamelander** 01-03-2017

Считаю, что это как раз правильное решение, чтобы не было путаницы. Вносите азот по формам и всё будет хорошо.

Вот что было бы очень интересно иметь в калькуляторе, так это возможность ввести количество общего азота и процент аммонийного азота, чтобы кальк сам пересчитывал и выдавал уже 3 значения - N общий, NO3, NH4.

В остальном считаю калькулятор идеальным решением для начинающих.


**siv237** 01-03-2017

> Считаю, что это как раз правильное решение, чтобы не было путаницы. Вносите азот по формам и всё будет хорошо.
> 
> Вот что было бы очень интересно иметь в калькуляторе, так это возможность ввести количество общего азота и процент аммонийного азота, чтобы кальк сам пересчитывал и выдавал уже 3 значения - N общий, NO3, NH4.
> 
> В остальном считаю калькулятор идеальным решением для начинающих.

раз предлагаете корректировать исходный профиль по аммонию то тогда уж сразу задавать и контролировать все 3 соотношения K:Mg, K:Ca, N:Ca ну и форму азота NH4:NO3

Вот мой корректор профиля прототип, позволяющий сравнить и изменить любой профиль по 3м соотношениям:

[![](/imagehost2/thumbs/20170301155827.png)](https://t.me/ponics_ru_files/17835){:target="_blank"}


**Gamelander** 01-03-2017

Ну, я ратую для доступность и простоту для начинающих. В этом плане Nutrient Solution Calculator как раз самое оно. 

А для уже разобравшихся и с опытом получше будет калькулятор от Цикламеха. Там и соотношения и доли, да, в принципе, полная свобода действий, Excel же.


**siv237** 01-03-2017

> Ну, я ратую для доступность и простоту для начинающих. В этом плане Nutrient Solution Calculator как раз самое оно. 
> 
> А для уже разобравшихся и с опытом получше будет калькулятор от Цикламеха. Там и соотношения и доли, да, в принципе, полная свобода действий, Excel же.

Ну вообще-то расчет ЕС, вернее коррекция профиля под нужный ЕС для начинающих довольно важная функция. Часто пишут берем профиль такой-то, и льем ЕС такой-то, потом поднимаем ЕС при таких-то обстоятельствах. 

И как новичку определить сколько чего сыпать, чтобы ЕС например сошелся с рекомендуемым, водой разбавлять? Тогда фосфор поплывет, а он от ЕС не должен зависеть.

В ручную пересчитать весь профиль новичку врятли удастся, если бы он умел руками считать нафига ему калькулятор :)

У Цикламеха не калькулятор а математическая модель калькулятора и именно это представляет трудности - отсутствие интерфейса, а вовсе не лишние для новичка возможности.


**Gamelander** 01-03-2017

Я знаком с массой гидропонщиков в наших краях, они тут у коллег пасутся )) Поверьте, им надо только циферки профиля и сколько грамм сыпать. ЕС туда-сюда плюс-минус, растет - уже хорошо, никто на уровень фосфора, поднимающийся при повышении ЕС не обращает внимания :D


**siv237** 01-03-2017

> Я знаком с массой гидропонщиков в наших краях, они тут у коллег пасутся )) Поверьте, им надо только циферки профиля и сколько грамм сыпать. ЕС туда-сюда плюс-минус, растет - уже хорошо, никто на уровень фосфора, поднимающийся при повышении ЕС не обращает внимания :D

Вообще теория любительской гидропоники шагает семимильными шагами. Я вот прочел старые форумы 2009-2010 годов, там про профили вообще не заикались особо. Продвинутые собирали кнопа, новичкам хватало известного уже тогда трехбутылочного бренда.

По сути именно этот бренд и вывел гидропонику в массы, начав с узкого направления самой, что не наесть большой армии домашних выращивателей веселой травы.

Сейчас тот период, когда теория активно развивается и покрывается инструментами типа калькуляторов. Что умеет понятный калькулятор, то и нужно новичкам. В общем движение идет не снизу.

Я сам когда начал изучать вопросы гидропоники все эти калькуляторы казались космосом.

Все что я хотел это выбрать огурец и список того, что можно купить. По началу правда еще хотел, чтобы калькулятор подсчитал из того, что я уже купил.

И самым простым для меня решением оказался калькулятор под андроид на телефоне, в нем хоть названия были в кармане. Я мог придя в магазин покрутить списочек и найти на полке нужное удобрение. Его и купить. Правда ничего не вышло, список не совпал.

Сейчас я понимаю, что это порочная была схема, но что-бы это понять нужно было перелопатить огромный слой информации.

Вот если бы было написано, купи это, это и это, а желательно и с распечаткой нужного что-бы продавцу список дать, да еще и с приоритетом производителей, вот это новичку надо.

Ну а чтобы лучше все получалось у новичков ведь не очень сложно любой профиль подредактировать. Сперва ЕС поменьше при прорастании, затем ЕС побольше, фосфора побольше для развития корневой и до цветения, затем фосфор убавить калий поднять, азот уменьшить пока плодоносит. То бишь человек выбирает стадию и выполняется коррекция.

Ну или не выбирает, зависит от степени лени.

В общем это мое мнение и скорее всего оно не очень презентативное. Мне оказалось проще сделать свой калькулятор, чем разобраться в чужих. Большинству наверно действительно будет лишним, фазы роста, коррекции нарушений и прочее. Хотя ввести это была бы фишка этого калька.


**Cyclamech** 01-03-2017

siv237, всё верно Вы говорите. АСУ разрабатывается именно как подобная штука.


**demidoff** 08-07-2017

В данном калькуляторе используется два вида написания азота, в первом случае NH4 и NO3, а во втором случае N(NH4) и N(NO3). В чем принципиальная разница?

Правильно ли я ввел состав аммиачной селитры?

[![](/imagehost2/thumbs/aya.jpg)](https://t.me/ponics_ru_files/17836){:target="_blank"}


**demidoff** 08-07-2017

Занес в калькулятор все свои удобрения, и попробовал рассчитать состав для огурца.

В результате у части удобрений масса получилась отрицательная! Как это понимать?

[![](/imagehost2/thumbs/rnr.jpg)](https://t.me/ponics_ru_files/17837){:target="_blank"}


**allex_step** 08-07-2017

> В данном калькуляторе используется два вида написания азота, в первом случае NH4 и NO3, а во втором случае N(NH4) и N(NO3). В чем принципиальная разница?

никакой разницы - азот аммиачный и азот нитратный


**FertilizerCalculator** 10-07-2017

> В данном калькуляторе используется два вида написания азота, в первом случае NH4 и NO3, а во втором случае N(NH4) и N(NO3). В чем принципиальная разница?
> 
> Правильно ли я ввел состав аммиачной селитры?
> 
> ![](/imagehost2/thumbs/aya.jpg)

NH4 и NO3 - Это соединения, Аммоний и Нитрат

N(NH4) и N(NO3) - Это Азот как вещество в составе соединения NH4 или NO3 

Разделение азта на 2 вида необходимо для возможности разделього просчета амонийного и нитратного азота. Если не нужно считать их отдельно то можно заносить все общим азотом N.

;)


**demidoff** 11-07-2017

> > В данном калькуляторе используется два вида написания азота, в первом случае NH4 и NO3, а во втором случае N(NH4) и N(NO3). В чем принципиальная разница?
> > 
> > Правильно ли я ввел состав аммиачной селитры?
> > 
> > ![](/imagehost2/thumbs/aya.jpg)
> 
> 
> 
> NH4 и NO3 - Это соединения, Аммоний и Нитрат
> 
> N(NH4) и N(NO3) - Это Азот как вещество в составе соединения NH4 или NO3 
> 
> Разделение азта на 2 вида необходимо для возможности разделього просчета амонийного и нитратного азота. Если не нужно считать их отдельно то можно заносить все общим азотом N.
> 
> ;)

Понял. Спасибо.


